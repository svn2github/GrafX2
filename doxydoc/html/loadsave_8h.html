<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GrafX2: loadsave.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>loadsave.h File Reference</h1>
<p>Saving and loading different picture formats.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structT__Format.html">T_Format</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data for an image file format.  <a href="structT__Format.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#ae0e2246af04c94ba2a828ba99acd7556">NB_KNOWN_FORMATS</a>&nbsp;&nbsp;&nbsp;18</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total number of known file formats.  <a href="#ae0e2246af04c94ba2a828ba99acd7556"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a7278d7033537995b71e2d44596c8161c">Pixel_load_in_current_screen</a> (word x_pos, word y_pos, byte color)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a5a5215eb3df1e8bde90334250167dbec">Pixel_load_in_preview</a> (word x_pos, word y_pos, byte color)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a6dc822880cda3100008b91768210df56">Pixel_load_in_brush</a> (word x_pos, word y_pos, byte color)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a0c63209c30eb085cafbc3f30bb5dcb92">Get_full_filename</a> (char *filename, byte is_colorix_format)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image</a> (byte image)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">High-level picture loading function.  <a href="#ae0573d517405563ad809a2ac0e3e38e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a523e417a7f5323a0d373439eb50e3b6d">Save_image</a> (byte image)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">High-level picture saving function.  <a href="#a523e417a7f5323a0d373439eb50e3b6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a6a034f75933aa3c0475665d9262e3c14">Image_emergency_backup</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function which attempts to save backups of the images (main and spare), called in case of SIGSEGV.  <a href="#a6a034f75933aa3c0475665d9262e3c14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT__Format.html">T_Format</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a89256b1e9815aec4773ef0f2f1ea6916">Get_fileformat</a> (byte format)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structT__Format.html">T_Format</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a08f7bb444c183b9d42878b681e1f9d61">File_formats</a> []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Array of the known file formats.  <a href="#a08f7bb444c183b9d42878b681e1f9d61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924">PIXEL_RATIO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="loadsave_8h.html#a3933c274d0089ec4607e27c432f6c2f0">Ratio_of_loaded_image</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pixel ratio of last loaded image: one of :PIXEL_SIMPLE, :PIXEL_WIDE or :PIXEL_TALL.  <a href="#a3933c274d0089ec4607e27c432f6c2f0"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Saving and loading different picture formats. </p>
<p>Also handles showing the preview in fileselectors. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae0e2246af04c94ba2a828ba99acd7556"></a><!-- doxytag: member="loadsave.h::NB_KNOWN_FORMATS" ref="ae0e2246af04c94ba2a828ba99acd7556" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NB_KNOWN_FORMATS&nbsp;&nbsp;&nbsp;18</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Total number of known file formats. </p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>, <a class="el" href="loadsave_8h.html#a89256b1e9815aec4773ef0f2f1ea6916">Get_fileformat()</a>, and <a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a7278d7033537995b71e2d44596c8161c"></a><!-- doxytag: member="loadsave.h::Pixel_load_in_current_screen" ref="a7278d7033537995b71e2d44596c8161c" args="(word x_pos, word y_pos, byte color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pixel_load_in_current_screen </td>
          <td>(</td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>x_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>y_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>color</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="global_8h.html#a3bd99d0d57ef2e3f8564020d08234d3d">Main_image_height</a>, <a class="el" href="global_8h.html#aa54e73b05c470585f95a021a7fa94d46">Main_image_width</a>, and <a class="el" href="misc_8c.html#aae7c19dbdf0272e5cac80a8c7647bb13">Pixel_in_current_screen()</a>.</p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>, <a class="el" href="loadsave_8c.html#aeb1147cd6680f9da5dd7932ace004853">Init_preview()</a>, <a class="el" href="loadsave_8c.html#aa9a5201bb00ef954b1dc2785ae1b1c54">Init_preview_24b()</a>, <a class="el" href="main_8c.html#ad289e8a3991d868778ee6188adbf7b0f">Init_program()</a>, <a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image()</a>, and <a class="el" href="buttons_8h.html#ae167d273a3f5e84a9bf5c1bcd7a60520">Load_picture()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a5215eb3df1e8bde90334250167dbec"></a><!-- doxytag: member="loadsave.h::Pixel_load_in_preview" ref="a5a5215eb3df1e8bde90334250167dbec" args="(word x_pos, word y_pos, byte color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pixel_load_in_preview </td>
          <td>(</td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>x_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>y_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>color</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="global_8h.html#a3bd99d0d57ef2e3f8564020d08234d3d">Main_image_height</a>, <a class="el" href="global_8h.html#aa54e73b05c470585f95a021a7fa94d46">Main_image_width</a>, <a class="el" href="global_8h.html#a6de0580f7e043479e48c0092fb786c31">Pixel</a>, <a class="el" href="global_8h.html#a80e59681385c3246939f77b0e331eaf5">Pixel_ratio</a>, <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924a0f539454d4329c157660654cbf5f9d5e">PIXEL_TALL</a>, <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924aefaadafc93b8d963fdf46ec0086a7d63">PIXEL_TALL2</a>, <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924a3ef3e01c498adcfa76a2b4cc7707b62b">PIXEL_WIDE</a>, <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924a1f13b5a8c03ee43c9573ce97ef3cda7c">PIXEL_WIDE2</a>, <a class="el" href="loadsave_8c.html#a7f4dce6c0c1cccfa8680beb0d95637ca">Preview_factor_X</a>, <a class="el" href="loadsave_8c.html#a11e931384a8290060b3fa01475e52cda">Preview_factor_Y</a>, <a class="el" href="loadsave_8c.html#a28ee4ac847f2101691cfeeb1c447d011">Preview_pos_X</a>, <a class="el" href="loadsave_8c.html#a2e9bd5dd8df41847a4db09eeca723883">Preview_pos_Y</a>, and <a class="el" href="loadsave_8c.html#a3933c274d0089ec4607e27c432f6c2f0">Ratio_of_loaded_image</a>.</p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>, <a class="el" href="loadsave_8c.html#a325376ebc361faeff2ad6228bb5994ed">Draw_palette_preview()</a>, <a class="el" href="loadsave_8c.html#aeb1147cd6680f9da5dd7932ace004853">Init_preview()</a>, <a class="el" href="loadsave_8c.html#aa9a5201bb00ef954b1dc2785ae1b1c54">Init_preview_24b()</a>, <a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image()</a>, and <a class="el" href="loadsave_8c.html#a7fce24d7370cba87b48288e92a0bb85b">Remap_fileselector()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc822880cda3100008b91768210df56"></a><!-- doxytag: member="loadsave.h::Pixel_load_in_brush" ref="a6dc822880cda3100008b91768210df56" args="(word x_pos, word y_pos, byte color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pixel_load_in_brush </td>
          <td>(</td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>x_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">word&nbsp;</td>
          <td class="paramname"> <em>y_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>color</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="global_8h.html#aae33aab7c143902aee060b696f53d7fb">Brush_height</a>, <a class="el" href="global_8h.html#af8dbca2361b1c11545100ffb1836c6c9">Brush_width</a>, and <a class="el" href="misc_8c.html#aa29a349b9f73e8c0bdb11785e1d7eaac">Pixel_in_brush()</a>.</p>

<p>Referenced by <a class="el" href="buttons_8h.html#ae167d273a3f5e84a9bf5c1bcd7a60520">Load_picture()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c63209c30eb085cafbc3f30bb5dcb92"></a><!-- doxytag: member="loadsave.h::Get_full_filename" ref="a0c63209c30eb085cafbc3f30bb5dcb92" args="(char *filename, byte is_colorix_format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Get_full_filename </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>is_colorix_format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="struct_8h.html#a71809484a26cd96c6abe839a0a8a289d">byte</a>, <a class="el" href="global_8h.html#a615a01559721223b9b961036aa6e6acd">Main_file_directory</a>, <a class="el" href="global_8h.html#af6cca03778f1eb1d7e1854dde3fec54b">Main_filename</a>, <a class="el" href="global_8h.html#aa54e73b05c470585f95a021a7fa94d46">Main_image_width</a>, and <a class="el" href="io_8h.html#a256a5721249aa3309437212cc21a9fe4">PATH_SEPARATOR</a>.</p>

<p>Referenced by <a class="el" href="buttons_8c.html#acbc674d3c1c924bfceb8dacf489fde0d">Backup_existing_file()</a>, <a class="el" href="buttons_8h.html#ac4b57b2919aede8613b5d4fc17be458d">Button_Autosave()</a>, <a class="el" href="buttons_8c.html#ac37bc0428b1cfa7d3f6a3b39a172ed47">Button_Quit_local_function()</a>, <a class="el" href="loadsave_8c.html#a77b512eefe5ef435044e556a9f24541b">Load_BMP()</a>, <a class="el" href="loadsave_8c.html#a4f164eb24f6c4d05ba969a684c4f0fd7">Load_C64()</a>, <a class="el" href="loadsave_8c.html#a96c7db5f772573f4d8245c5d27336807">Load_CEL()</a>, <a class="el" href="loadsave_8c.html#a9f2629bbd64194d917d883a4b321907c">Load_GIF()</a>, <a class="el" href="loadsave_8c.html#a3923bddfeb26e2dd6999c8dbd119e242">Load_IMG()</a>, <a class="el" href="loadsave_8c.html#a8e2a3331b3288c538013cf2fe1e7291e">Load_KCF()</a>, <a class="el" href="loadsave_8c.html#adccfef42728ab9bdbae56a89c43f4182">Load_LBM()</a>, <a class="el" href="loadsave_8c.html#a4c6e8d020566b82de7ad89d25cfc4889">Load_NEO()</a>, <a class="el" href="loadsave_8c.html#a6321478625463f5e3c159ee00da2605d">Load_PAL()</a>, <a class="el" href="loadsave_8c.html#a43a527b36aa187ae3df3b0c067f2aadc">Load_PC1()</a>, <a class="el" href="loadsave_8c.html#ab9bc3adf51e364a4f51ea59db1fbbf2a">Load_PCX()</a>, <a class="el" href="loadsave_8c.html#a5cc00be9f67302cb0c770999a114eec5">Load_PI1()</a>, <a class="el" href="loadsave_8c.html#a9737a868b1afaf9dd7ccbe6c77ea175a">Load_PKM()</a>, <a class="el" href="loadsave_8c.html#a6875ebed7d0dec80eb4aec6e47596b3f">Load_PNG()</a>, <a class="el" href="loadsave_8c.html#ab6c13d9603c5b91f6bf4cbea64798421">Load_SCx()</a>, <a class="el" href="loadsave_8c.html#a42afbce37ae86ab9555f1f4a3a55bdbe">Load_SDL_Image()</a>, <a class="el" href="loadsave_8c.html#ac790c88223468918b79e8027e6536c03">Save_BMP()</a>, <a class="el" href="loadsave_8c.html#a487a2530891407df56b2c201546a7423">Save_C64()</a>, <a class="el" href="loadsave_8c.html#a75f61abc626000008ba0ea59f8d3cab7">Save_CEL()</a>, <a class="el" href="loadsave_8c.html#a19c4247a6faeff2fc93e69ec134fc48a">Save_GIF()</a>, <a class="el" href="loadsave_8c.html#a2029e4410580e927f1cf72531ec11307">Save_IMG()</a>, <a class="el" href="loadsave_8c.html#ab96510908fca8cd40bc4ffa0b8756798">Save_KCF()</a>, <a class="el" href="loadsave_8c.html#abd6a836b450e557ec08985898031db84">Save_LBM()</a>, <a class="el" href="loadsave_8c.html#a773bf7c15967258875fd72f546c397d6">Save_NEO()</a>, <a class="el" href="loadsave_8c.html#afd60117a972fa2d788265c5d32eb1638">Save_PAL()</a>, <a class="el" href="loadsave_8c.html#a726a596e26cfddcd47bdc78882da72db">Save_PC1()</a>, <a class="el" href="loadsave_8c.html#ac8ec99881e5fd58125883ced2b9a777b">Save_PCX()</a>, <a class="el" href="loadsave_8c.html#aa73e82a37ccdf52c8ac64afe066beed2">Save_PI1()</a>, <a class="el" href="loadsave_8c.html#af28032474ee12f42045d4196e83953c2">Save_PKM()</a>, <a class="el" href="loadsave_8c.html#a5654585347b1f4351bcfe6e9961b8359">Save_PNG()</a>, <a class="el" href="loadsave_8c.html#ab309c5417991c814314261632f41b81b">Save_SCx()</a>, <a class="el" href="loadsave_8c.html#ac0060fa467f16027c8c5fe6fe32d1a13">Test_BMP()</a>, <a class="el" href="loadsave_8c.html#a56906048908a499b85a5639640ecca3e">Test_C64()</a>, <a class="el" href="loadsave_8c.html#a59ff6d4591d1c8c3e22f6e4e25e767b8">Test_CEL()</a>, <a class="el" href="loadsave_8c.html#a422454fbdf259cd46fcb8506d7dbccc6">Test_GIF()</a>, <a class="el" href="loadsave_8c.html#a57cad007f7278fdaf2bab3d60c8cd8cb">Test_IMG()</a>, <a class="el" href="loadsave_8c.html#a3a70c57da028a38477a2978148dd64d0">Test_KCF()</a>, <a class="el" href="loadsave_8c.html#a9fe2bc0052197375a8d3a4a533a9fe73">Test_LBM()</a>, <a class="el" href="loadsave_8c.html#ae2485354f18d3863ad440bf5a4b1b954">Test_NEO()</a>, <a class="el" href="loadsave_8c.html#a36a7ffeba75ec452fb3e044b1be58d0b">Test_PAL()</a>, <a class="el" href="loadsave_8c.html#afd3e76d9dce1ab9edc3383abfdeb9a9e">Test_PC1()</a>, <a class="el" href="loadsave_8c.html#aa67d3c4ab4b20ff52636a3bbcab117a0">Test_PCX()</a>, <a class="el" href="loadsave_8c.html#ad2b81f464777061b8fc2f249e684eff6">Test_PI1()</a>, <a class="el" href="loadsave_8c.html#a58f415efbf2090acdd70dd20030ed643">Test_PKM()</a>, <a class="el" href="loadsave_8c.html#a724eb97c3f79f3d8af0b75f699169867">Test_PNG()</a>, and <a class="el" href="loadsave_8c.html#a20a9fa80c60e1883b72015fe99ea4c04">Test_SCx()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0573d517405563ad809a2ac0e3e38e1"></a><!-- doxytag: member="loadsave.h::Load_image" ref="ae0573d517405563ad809a2ac0e3e38e1" args="(byte image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Load_image </td>
          <td>(</td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>image</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>High-level picture loading function. </p>
<p>Handles loading an image or a brush, or previewing only. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>true if the fileselector is the one for loading images (not brush) </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structT__Format.html#aa888f401344fcbb7b61d016631177e8a">T_Format::Backup_done</a>, <a class="el" href="global_8h.html#a0e225445d72e7ff2b14bf9dbfa622c0f">Brush</a>, <a class="el" href="global_8h.html#aae33aab7c143902aee060b696f53d7fb">Brush_height</a>, <a class="el" href="global_8h.html#af8dbca2361b1c11545100ffb1836c6c9">Brush_width</a>, <a class="el" href="op__c_8c.html#aa4cd5d1d420bc3590dc4c48ee8c0fb6b">Convert_24b_bitmap_to_256()</a>, <a class="el" href="misc_8c.html#ac139e99c1708ce4eb661a701b23374ea">Count_used_colors_screen_area()</a>, <a class="el" href="global_8h.html#a5689602469211db841a515f777907f3e">Cursor_shape</a>, <a class="el" href="const_8h.html#a195dc89fc27761def8e31edf71c251aba0943e38fb4fbc8f27496f246798f25f6">CURSOR_SHAPE_HOURGLASS</a>, <a class="el" href="windows_8c.html#a40a1e54f61262000b1ef50b42914e378">Display_cursor()</a>, <a class="el" href="pages_8c.html#a750fd100c1feb158cf59ff018e0d9837">Download_infos_page_main()</a>, <a class="el" href="struct_8h.html#a55849dc98f28432a4601c29a4a352a97">dword</a>, <a class="el" href="errors_8h.html#ae07d69c37041d0c62f4f53427d1bddeb">Error</a>, <a class="el" href="global_8h.html#a433e7832dbbc69557fc27103f60667c2">File_error</a>, <a class="el" href="sdlscreen_8c.html#a93853989aee9a7a6d6b9398fa36b6c70">Flush_update()</a>, <a class="el" href="const_8h.html#a83bf1b1909487102b8bf63ffdd1bb350a064322421634650bdc0ebbf74a3066e9">FORMAT_ALL_FILES</a>, <a class="el" href="loadsave_8c.html#a89256b1e9815aec4773ef0f2f1ea6916">Get_fileformat()</a>, <a class="el" href="global_8h.html#aa0602b6d3de99d053ef820953cd58613">Hide_cursor</a>, <a class="el" href="structT__Format.html#ae47c8390b45412b7f846b1d2ff9f9b71">T_Format::Identifier</a>, <a class="el" href="loadsave_8c.html#aed60b40a425ee143bc20ae1d6908887f">Image_24b</a>, <a class="el" href="structT__Format.html#a15ad8aa563dd654e73828545688a9011">T_Format::Load</a>, <a class="el" href="loadsave_8c.html#a42afbce37ae86ab9555f1f4a3a55bdbe">Load_SDL_Image()</a>, <a class="el" href="global_8h.html#a88a4c257f2d562a1f74fd407e976e90b">Main_backups</a>, <a class="el" href="global_8h.html#aa743d44496e28ac91e98575e26b208f4">Main_fileformat</a>, <a class="el" href="global_8h.html#af77c9c03f1f618275d2d19ffb75f2cc2">Main_format</a>, <a class="el" href="global_8h.html#a3bd99d0d57ef2e3f8564020d08234d3d">Main_image_height</a>, <a class="el" href="global_8h.html#a75a5ae8e85c3c2a768de5d65e6d31e39">Main_image_is_modified</a>, <a class="el" href="global_8h.html#aa54e73b05c470585f95a021a7fa94d46">Main_image_width</a>, <a class="el" href="global_8h.html#af3d925a6dd61cd8993646f4b03aa1ff2">Main_palette</a>, <a class="el" href="global_8h.html#a84801d7b065eadfcbd65f71d03a11a56">Main_screen</a>, <a class="el" href="loadsave_8h.html#ae0e2246af04c94ba2a828ba99acd7556">NB_KNOWN_FORMATS</a>, <a class="el" href="structT__List__of__pages.html#a84a4eb3821ab9c6533e3e4284a8dade2">T_List_of_pages::Pages</a>, <a class="el" href="global_8h.html#a4910cc8554ed4eeef681bbfa306fa536">Pixel_load_function</a>, <a class="el" href="loadsave_8c.html#a7278d7033537995b71e2d44596c8161c">Pixel_load_in_current_screen()</a>, <a class="el" href="loadsave_8c.html#a5a5215eb3df1e8bde90334250167dbec">Pixel_load_in_preview()</a>, <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924ac29d7a2a702132aabdd279e4534bc5f5">PIXEL_SIMPLE</a>, <a class="el" href="loadsave_8c.html#a7f4dce6c0c1cccfa8680beb0d95637ca">Preview_factor_X</a>, <a class="el" href="loadsave_8c.html#a11e931384a8290060b3fa01475e52cda">Preview_factor_Y</a>, <a class="el" href="loadsave_8c.html#a28ee4ac847f2101691cfeeb1c447d011">Preview_pos_X</a>, <a class="el" href="loadsave_8c.html#a2e9bd5dd8df41847a4db09eeca723883">Preview_pos_Y</a>, <a class="el" href="loadsave_8c.html#a3933c274d0089ec4607e27c432f6c2f0">Ratio_of_loaded_image</a>, <a class="el" href="palette_8c.html#a997fa5feade9d76edfa94e188083f534">Set_nice_menu_colors()</a>, <a class="el" href="misc_8c.html#a7f8562564c597185de8b961ac337144e">Set_palette()</a>, and <a class="el" href="structT__Format.html#a5499f463d53d08b339e0a9be6a5dae46">T_Format::Test</a>.</p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>, <a class="el" href="buttons_8h.html#a50a748c652f5870fbcd143e349df4ba9">Button_Reload()</a>, and <a class="el" href="buttons_8h.html#ae167d273a3f5e84a9bf5c1bcd7a60520">Load_picture()</a>.</p>

</div>
</div>
<a class="anchor" id="a523e417a7f5323a0d373439eb50e3b6d"></a><!-- doxytag: member="loadsave.h::Save_image" ref="a523e417a7f5323a0d373439eb50e3b6d" args="(byte image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Save_image </td>
          <td>(</td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>image</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>High-level picture saving function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>true if the image should be saved (instead of the brush) </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="errors_8h.html#ae07d69c37041d0c62f4f53427d1bddeb">Error</a>, <a class="el" href="global_8h.html#a433e7832dbbc69557fc27103f60667c2">File_error</a>, <a class="el" href="loadsave_8c.html#a89256b1e9815aec4773ef0f2f1ea6916">Get_fileformat()</a>, <a class="el" href="global_8h.html#aa743d44496e28ac91e98575e26b208f4">Main_fileformat</a>, <a class="el" href="global_8h.html#a75a5ae8e85c3c2a768de5d65e6d31e39">Main_image_is_modified</a>, <a class="el" href="misc_8c.html#a1a6f18444e55ee416e125bc7b38de3d3">Read_pixel_from_brush()</a>, <a class="el" href="misc_8c.html#aa7dfe7956d07a7151ad34b3c481d7f74">Read_pixel_from_current_screen()</a>, <a class="el" href="global_8h.html#a32ebcc9b129add907638dbd18b15cdca">Read_pixel_function</a>, and <a class="el" href="structT__Format.html#a8f398572157aa3ac276bf57be739b3b2">T_Format::Save</a>.</p>

<p>Referenced by <a class="el" href="buttons_8h.html#ac4b57b2919aede8613b5d4fc17be458d">Button_Autosave()</a>, <a class="el" href="buttons_8c.html#ac37bc0428b1cfa7d3f6a3b39a172ed47">Button_Quit_local_function()</a>, and <a class="el" href="buttons_8h.html#a1ca2f285874753b268a52616d88e3fcb">Save_picture()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a034f75933aa3c0475665d9262e3c14"></a><!-- doxytag: member="loadsave.h::Image_emergency_backup" ref="a6a034f75933aa3c0475665d9262e3c14" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Image_emergency_backup </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function which attempts to save backups of the images (main and spare), called in case of SIGSEGV. </p>

<p>References <a class="el" href="loadsave_8c.html#a6d28fed7af50e5e27f44e1d8f8b11232">Emergency_backup()</a>, <a class="el" href="global_8h.html#a3bd99d0d57ef2e3f8564020d08234d3d">Main_image_height</a>, <a class="el" href="global_8h.html#aa54e73b05c470585f95a021a7fa94d46">Main_image_width</a>, <a class="el" href="global_8h.html#af3d925a6dd61cd8993646f4b03aa1ff2">Main_palette</a>, <a class="el" href="global_8h.html#a84801d7b065eadfcbd65f71d03a11a56">Main_screen</a>, <a class="el" href="global_8h.html#affa891cf388d9877ff0500c801418ed8">Spare_image_height</a>, <a class="el" href="global_8h.html#a8b9a38c767fd49818130b395f74aecce">Spare_image_width</a>, <a class="el" href="global_8h.html#a0b61ec1ae6b47e29efcaee68ec47d5b5">Spare_palette</a>, and <a class="el" href="global_8h.html#aa5283f9d13407260e80631224a96f1bc">Spare_screen</a>.</p>

<p>Referenced by <a class="el" href="init_8c.html#afdc63071267a82715929afe015d1c516">Sig_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="a89256b1e9815aec4773ef0f2f1ea6916"></a><!-- doxytag: member="loadsave.h::Get_fileformat" ref="a89256b1e9815aec4773ef0f2f1ea6916" args="(byte format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT__Format.html">T_Format</a>* Get_fileformat </td>
          <td>(</td>
          <td class="paramtype">byte&nbsp;</td>
          <td class="paramname"> <em>format</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="const_8h.html#a83bf1b1909487102b8bf63ffdd1bb350acab6d5fbb355156e3b940835c7e011a9">FORMAT_GIF</a>, and <a class="el" href="loadsave_8h.html#ae0e2246af04c94ba2a828ba99acd7556">NB_KNOWN_FORMATS</a>.</p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>, <a class="el" href="loadsave_8c.html#aeb1147cd6680f9da5dd7932ace004853">Init_preview()</a>, <a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image()</a>, <a class="el" href="buttons_8h.html#ae167d273a3f5e84a9bf5c1bcd7a60520">Load_picture()</a>, <a class="el" href="filesel_8c.html#a87fe5f455b530f2e55bdd636ea918bed">Read_list_of_files()</a>, <a class="el" href="loadsave_8h.html#a523e417a7f5323a0d373439eb50e3b6d">Save_image()</a>, and <a class="el" href="buttons_8h.html#a1ca2f285874753b268a52616d88e3fcb">Save_picture()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a08f7bb444c183b9d42878b681e1f9d61"></a><!-- doxytag: member="loadsave.h::File_formats" ref="a08f7bb444c183b9d42878b681e1f9d61" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structT__Format.html">T_Format</a> <a class="el" href="loadsave_8h.html#a08f7bb444c183b9d42878b681e1f9d61">File_formats</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of the known file formats. </p>

<p>Referenced by <a class="el" href="filesel_8h.html#a70bc8f5f7c54ad13970497a47c6b2d6a">Button_Load_or_Save()</a>.</p>

</div>
</div>
<a class="anchor" id="a3933c274d0089ec4607e27c432f6c2f0"></a><!-- doxytag: member="loadsave.h::Ratio_of_loaded_image" ref="a3933c274d0089ec4607e27c432f6c2f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="const_8h.html#a661449b9d26e056652b9b9e9b5c9a924">PIXEL_RATIO</a> <a class="el" href="loadsave_8h.html#a3933c274d0089ec4607e27c432f6c2f0">Ratio_of_loaded_image</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pixel ratio of last loaded image: one of :PIXEL_SIMPLE, :PIXEL_WIDE or :PIXEL_TALL. </p>

<p>Referenced by <a class="el" href="buttons_8h.html#a50a748c652f5870fbcd143e349df4ba9">Button_Reload()</a>, <a class="el" href="loadsave_8c.html#a4f164eb24f6c4d05ba969a684c4f0fd7">Load_C64()</a>, <a class="el" href="loadsave_8h.html#ae0573d517405563ad809a2ac0e3e38e1">Load_image()</a>, <a class="el" href="buttons_8h.html#ae167d273a3f5e84a9bf5c1bcd7a60520">Load_picture()</a>, <a class="el" href="loadsave_8c.html#a6875ebed7d0dec80eb4aec6e47596b3f">Load_PNG()</a>, and <a class="el" href="loadsave_8h.html#a5a5215eb3df1e8bde90334250167dbec">Pixel_load_in_preview()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat Oct 31 10:39:49 2009 for GrafX2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
