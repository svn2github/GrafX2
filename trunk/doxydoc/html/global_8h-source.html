<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>GrafX2: global.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>global.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*  Grafx2 - The Ultimate 256-color bitmap paint program</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">    Copyright 2007 Adrien Destugues</span>
<a name="l00004"></a>00004 <span class="comment">    Copyright 1996-2001 Sunset Design (Guillaume Dorme &amp; Karl Maritaud)</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">    Grafx2 is free software; you can redistribute it and/or</span>
<a name="l00007"></a>00007 <span class="comment">    modify it under the terms of the GNU General Public License</span>
<a name="l00008"></a>00008 <span class="comment">    as published by the Free Software Foundation; version 2</span>
<a name="l00009"></a>00009 <span class="comment">    of the License.</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment">    Grafx2 is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment">    GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">    You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment">    along with Grafx2; if not, see &lt;http://www.gnu.org/licenses/&gt; or</span>
<a name="l00018"></a>00018 <span class="comment">    write to the Free Software Foundation, Inc.,</span>
<a name="l00019"></a>00019 <span class="comment">    59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">// Dans MAIN on declare les variables</span>
<a name="l00023"></a>00023 <span class="comment">// Dans les autres fichiers, on ne fait que les référencer</span>
<a name="l00024"></a>00024 <span class="preprocessor">#ifdef VARIABLES_GLOBALES</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">  #define GFX2_GLOBAL</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">  #define GFX2_GLOBAL extern</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="comment">//                                                                          //</span>
<a name="l00032"></a>00032 <span class="comment">//        Ce fichier contient les déclaration des variables globales        //</span>
<a name="l00033"></a>00033 <span class="comment">//                                                                          //</span>
<a name="l00035"></a>00035 <span class="comment"></span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">// -- Section des variables de CONFIGURATION ---------------------------------</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#ifndef _GLOBAL_H_</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#define _GLOBAL_H_</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;SDL.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include "struct.h"</span>
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="structS__Config.html">00045</a> GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structS__Config.html">S_Config</a>
<a name="l00046"></a>00046 {
<a name="l00047"></a><a class="code" href="structS__Config.html#c2eeac300aeae0aa347d4ecbf22297a9">00047</a>   byte <a class="code" href="structS__Config.html#c2eeac300aeae0aa347d4ecbf22297a9">Fonte</a>;
<a name="l00048"></a><a class="code" href="structS__Config.html#4f4295378fbe5741d2a72e00220b7b2c">00048</a>   <span class="keywordtype">int</span>  <a class="code" href="structS__Config.html#4f4295378fbe5741d2a72e00220b7b2c">Lire_les_fichiers_caches</a>;
<a name="l00049"></a><a class="code" href="structS__Config.html#ca2a0a1691a4edb851fc0b0647c22346">00049</a>   <span class="keywordtype">int</span>  <a class="code" href="structS__Config.html#ca2a0a1691a4edb851fc0b0647c22346">Lire_les_repertoires_caches</a>;
<a name="l00050"></a>00050 <span class="comment">//  int  Lire_les_repertoires_systemes;</span>
<a name="l00051"></a><a class="code" href="structS__Config.html#2ae3be14fcf68eead5fe222e20234d98">00051</a>   byte <a class="code" href="structS__Config.html#2ae3be14fcf68eead5fe222e20234d98">Afficher_limites_image</a>;
<a name="l00052"></a><a class="code" href="structS__Config.html#03a1f76131415e2668e08cb6648f5f9a">00052</a>   byte <a class="code" href="structS__Config.html#03a1f76131415e2668e08cb6648f5f9a">Curseur</a>;
<a name="l00053"></a><a class="code" href="structS__Config.html#3242d79f8afbc47d34e40d6ffa3dfa87">00053</a>   byte <a class="code" href="structS__Config.html#3242d79f8afbc47d34e40d6ffa3dfa87">Maximize_preview</a>;
<a name="l00054"></a><a class="code" href="structS__Config.html#6efcb0c6a886b6d1d19ccdbdd7e4e2cd">00054</a>   byte <a class="code" href="structS__Config.html#6efcb0c6a886b6d1d19ccdbdd7e4e2cd">Auto_set_res</a>;
<a name="l00055"></a><a class="code" href="structS__Config.html#24bc1fe50235fc7dabd785573a6d90f0">00055</a>   byte <a class="code" href="structS__Config.html#24bc1fe50235fc7dabd785573a6d90f0">Coords_rel</a>;
<a name="l00056"></a><a class="code" href="structS__Config.html#a06c9a69b01a6d4d13c753b9399c9d57">00056</a>   byte <a class="code" href="structS__Config.html#a06c9a69b01a6d4d13c753b9399c9d57">Backup</a>;
<a name="l00057"></a><a class="code" href="structS__Config.html#9fd4bb9811e5fb8bf996159833dc91eb">00057</a>   byte <a class="code" href="structS__Config.html#9fd4bb9811e5fb8bf996159833dc91eb">Adjust_brush_pick</a>;
<a name="l00058"></a><a class="code" href="structS__Config.html#814abccfff489eccb78257b73aa482ba">00058</a>   byte <a class="code" href="structS__Config.html#814abccfff489eccb78257b73aa482ba">Auto_save</a>;
<a name="l00059"></a><a class="code" href="structS__Config.html#2e941a1de4522dcae408c33c25715e4c">00059</a>   byte <a class="code" href="structS__Config.html#2e941a1de4522dcae408c33c25715e4c">Nb_pages_Undo</a>;
<a name="l00060"></a><a class="code" href="structS__Config.html#3c7bc1c249463d9c09343d12099fecfa">00060</a>   byte <a class="code" href="structS__Config.html#3c7bc1c249463d9c09343d12099fecfa">Indice_Sensibilite_souris_X</a>;
<a name="l00061"></a><a class="code" href="structS__Config.html#5c49d800f3fcab9ea22204349c757c94">00061</a>   byte <a class="code" href="structS__Config.html#5c49d800f3fcab9ea22204349c757c94">Indice_Sensibilite_souris_Y</a>;
<a name="l00062"></a><a class="code" href="structS__Config.html#b1e120ca3593c9a498413374078385a5">00062</a>   byte <a class="code" href="structS__Config.html#b1e120ca3593c9a498413374078385a5">Mouse_Facteur_de_correction_X</a>;
<a name="l00063"></a><a class="code" href="structS__Config.html#8d97e87c5c5c38d97eee5a9b8cbe154b">00063</a>   byte <a class="code" href="structS__Config.html#8d97e87c5c5c38d97eee5a9b8cbe154b">Mouse_Facteur_de_correction_Y</a>;
<a name="l00064"></a><a class="code" href="structS__Config.html#f06cb2124db7178cb56e18479acfde08">00064</a>   byte <a class="code" href="structS__Config.html#f06cb2124db7178cb56e18479acfde08">Mouse_Merge_movement</a>;
<a name="l00065"></a><a class="code" href="structS__Config.html#ddc4fe1db2cb1dc9f873107d0d2424ea">00065</a>   byte <a class="code" href="structS__Config.html#ddc4fe1db2cb1dc9f873107d0d2424ea">Valeur_tempo_jauge_gauche</a>;
<a name="l00066"></a><a class="code" href="structS__Config.html#8818e44bcec1c007d78bd6c763168eca">00066</a>   byte <a class="code" href="structS__Config.html#8818e44bcec1c007d78bd6c763168eca">Valeur_tempo_jauge_droite</a>;
<a name="l00067"></a><a class="code" href="structS__Config.html#3e9e420b54e1d0835c02a100c3712459">00067</a>   <span class="keywordtype">long</span> <a class="code" href="structS__Config.html#3e9e420b54e1d0835c02a100c3712459">Chrono_delay</a>;
<a name="l00068"></a><a class="code" href="structS__Config.html#a3b875d2f56f3fc2789f1ba027135951">00068</a>   <span class="keyword">struct </span>Composantes <a class="code" href="structS__Config.html#a3b875d2f56f3fc2789f1ba027135951">Coul_menu_pref</a>[4];
<a name="l00069"></a><a class="code" href="structS__Config.html#a9fa29f1331d7d5988ba960f49a60abe">00069</a>   <span class="keywordtype">int</span>  <a class="code" href="structS__Config.html#a9fa29f1331d7d5988ba960f49a60abe">Nb_max_de_vertex_par_polygon</a>;
<a name="l00070"></a><a class="code" href="structS__Config.html#ca5f1cda537ef942adc06bea9d8fe50e">00070</a>   byte <a class="code" href="structS__Config.html#ca5f1cda537ef942adc06bea9d8fe50e">Clear_palette</a>;
<a name="l00071"></a><a class="code" href="structS__Config.html#0b0970931a3ef9ee3f1afbf2cb9d662f">00071</a>   byte <a class="code" href="structS__Config.html#0b0970931a3ef9ee3f1afbf2cb9d662f">Set_resolution_according_to</a>;
<a name="l00072"></a><a class="code" href="structS__Config.html#ac35e2bcd4bf526f3e4e3f04ed94a872">00072</a>   byte <a class="code" href="structS__Config.html#ac35e2bcd4bf526f3e4e3f04ed94a872">Ratio</a>;
<a name="l00073"></a><a class="code" href="structS__Config.html#22a48859feb07e89bb1ed799f1cb58ed">00073</a>   byte <a class="code" href="structS__Config.html#22a48859feb07e89bb1ed799f1cb58ed">Fast_zoom</a>;
<a name="l00074"></a><a class="code" href="structS__Config.html#fca640b1c796c570214e108a5e877e17">00074</a>   byte <a class="code" href="structS__Config.html#fca640b1c796c570214e108a5e877e17">Find_file_fast</a>;
<a name="l00075"></a><a class="code" href="structS__Config.html#6ba8e6342a67b87eb8521c53972abd68">00075</a>   byte <a class="code" href="structS__Config.html#6ba8e6342a67b87eb8521c53972abd68">Couleurs_separees</a>;
<a name="l00076"></a><a class="code" href="structS__Config.html#763b9f0772d300059a47a47a094285c2">00076</a>   word <a class="code" href="structS__Config.html#763b9f0772d300059a47a47a094285c2">Palette_Cells_X</a>;
<a name="l00077"></a><a class="code" href="structS__Config.html#2ce8658bc3a1b4c006c49b158f39defc">00077</a>   word <a class="code" href="structS__Config.html#2ce8658bc3a1b4c006c49b158f39defc">Palette_Cells_Y</a>;
<a name="l00078"></a><a class="code" href="structS__Config.html#663fec01267011f6265de777f9e9af23">00078</a>   byte <a class="code" href="structS__Config.html#663fec01267011f6265de777f9e9af23">FX_Feedback</a>;
<a name="l00079"></a><a class="code" href="structS__Config.html#0c49d7614aa5e1b66b6341bd38792609">00079</a>   byte <a class="code" href="structS__Config.html#0c49d7614aa5e1b66b6341bd38792609">Safety_colors</a>;
<a name="l00080"></a><a class="code" href="structS__Config.html#d977796462c9a35d53982030d0663b17">00080</a>   byte <a class="code" href="structS__Config.html#d977796462c9a35d53982030d0663b17">Opening_message</a>;
<a name="l00081"></a><a class="code" href="structS__Config.html#228233fb99eea347ea84cb87f01a45ae">00081</a>   byte <a class="code" href="structS__Config.html#228233fb99eea347ea84cb87f01a45ae">Clear_with_stencil</a>;
<a name="l00082"></a><a class="code" href="structS__Config.html#fbaffedc3c29538fd3a29489e178355a">00082</a>   byte <a class="code" href="structS__Config.html#fbaffedc3c29538fd3a29489e178355a">Auto_discontinuous</a>;
<a name="l00083"></a><a class="code" href="structS__Config.html#658c8f1c0d111da132a5bb0ba018fc4d">00083</a>   byte <a class="code" href="structS__Config.html#658c8f1c0d111da132a5bb0ba018fc4d">Taille_ecran_dans_GIF</a>;
<a name="l00084"></a><a class="code" href="structS__Config.html#f9d226baba6b3189bf05d2dc762c5871">00084</a>   byte <a class="code" href="structS__Config.html#f9d226baba6b3189bf05d2dc762c5871">Auto_nb_used</a>;
<a name="l00085"></a><a class="code" href="structS__Config.html#4df68767d1e25b063e776cb863e45d22">00085</a>   byte <a class="code" href="structS__Config.html#4df68767d1e25b063e776cb863e45d22">Resolution_par_defaut</a>;
<a name="l00086"></a><a class="code" href="structS__Config.html#bfd3df986ccf73142bb17019ada3269c">00086</a>   <span class="keywordtype">char</span> *<a class="code" href="structS__Config.html#bfd3df986ccf73142bb17019ada3269c">Bookmark_directory</a>[NB_BOOKMARKS]; <span class="comment">// independant malloc of adaptive size</span>
<a name="l00087"></a><a class="code" href="structS__Config.html#11c2f8ae9da174e4ddfc4ce09bb7d969">00087</a>   <span class="keywordtype">char</span> <a class="code" href="structS__Config.html#11c2f8ae9da174e4ddfc4ce09bb7d969">Bookmark_label</a>[NB_BOOKMARKS][8+1];
<a name="l00088"></a>00088 } Config;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="comment">// Tableau des touches spéciales</span>
<a name="l00091"></a>00091 GFX2_GLOBAL word Config_Touche[NB_TOUCHES_SPECIALES][2];
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="structS__Mode__video.html">00094</a> <span class="keyword">struct </span><a class="code" href="structS__Mode__video.html">S_Mode_video</a>
<a name="l00095"></a>00095 {
<a name="l00096"></a><a class="code" href="structS__Mode__video.html#73b691ac559cdbbfaf56f6ed6493398c">00096</a>   <span class="keywordtype">short</span>  <a class="code" href="structS__Mode__video.html#73b691ac559cdbbfaf56f6ed6493398c">Largeur</a>;
<a name="l00097"></a><a class="code" href="structS__Mode__video.html#60eb8c2e9abcd788a943e2135a4edb58">00097</a>   <span class="keywordtype">short</span>  <a class="code" href="structS__Mode__video.html#60eb8c2e9abcd788a943e2135a4edb58">Hauteur</a>;
<a name="l00098"></a><a class="code" href="structS__Mode__video.html#9100bf633b7c3d26086c0d5d634141be">00098</a>   byte   <a class="code" href="structS__Mode__video.html#9100bf633b7c3d26086c0d5d634141be">Mode</a>;
<a name="l00099"></a><a class="code" href="structS__Mode__video.html#cb2a6ab4c7a7d14d15c490390c352842">00099</a>   word   <a class="code" href="structS__Mode__video.html#cb2a6ab4c7a7d14d15c490390c352842">Fullscreen</a>;
<a name="l00100"></a><a class="code" href="structS__Mode__video.html#e7082f8776c47d332636706831ee77d2">00100</a>   byte   <a class="code" href="structS__Mode__video.html#e7082f8776c47d332636706831ee77d2">Etat</a>; <span class="comment">// 0:Cool 1:OK ; 2:Bof ; 3:Naze ; si on rajoute +128 =&gt; incompatible</span>
<a name="l00101"></a>00101 };
<a name="l00102"></a>00102 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structS__Mode__video.html">S_Mode_video</a> Mode_video[MAX_MODES_VIDEO];
<a name="l00103"></a>00103 GFX2_GLOBAL <span class="keywordtype">int</span>  Nb_modes_video; <span class="comment">// Nombre de modes réellement recensés dans Mode_video[]</span>
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 
<a name="l00106"></a>00106   <span class="comment">// Palette par défaut</span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 GFX2_GLOBAL T_Palette Palette_defaut;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110   <span class="comment">// Couleurs du menu</span>
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 GFX2_GLOBAL byte CM_Noir;
<a name="l00113"></a>00113 GFX2_GLOBAL byte CM_Fonce;
<a name="l00114"></a>00114 GFX2_GLOBAL byte CM_Clair;
<a name="l00115"></a>00115 GFX2_GLOBAL byte CM_Blanc;
<a name="l00116"></a>00116 GFX2_GLOBAL byte CM_Trans;
<a name="l00117"></a>00117 GFX2_GLOBAL <span class="keyword">struct </span>Composantes Coul_menu_pref[4];
<a name="l00118"></a>00118 
<a name="l00119"></a>00119   <span class="comment">// Etat des entrées</span>
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 GFX2_GLOBAL word Mouse_X; <span class="comment">// Abscisse de la souris</span>
<a name="l00122"></a>00122 GFX2_GLOBAL word Mouse_Y; <span class="comment">// Ordonnée de la souris</span>
<a name="l00123"></a>00123 GFX2_GLOBAL byte Mouse_K; <span class="comment">// Etat des boutons de la souris (tient comte des boutons appuyés simultanéments</span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="preprocessor">#define Mouse_K_Unique (Mouse_K==0?0:(Mouse_K&amp;1?1:(Mouse_K&amp;2?2:0))) // Etat des boutons de la souris (un seul bouton à la fois, on regarde d'abord le 1, puis le 2, ...)</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>
<a name="l00127"></a>00127 GFX2_GLOBAL dword Touche; <span class="comment">// Touche tapée</span>
<a name="l00128"></a>00128 GFX2_GLOBAL dword Touche_ANSI; <span class="comment">// Caractère tapé</span>
<a name="l00129"></a>00129 GFX2_GLOBAL Uint8* Etat_Du_Clavier;  <span class="comment">// Scancode de la touche en cours et etat des touches de ctrl</span>
<a name="l00130"></a>00130 <span class="comment">// Modificateurs pour Touche</span>
<a name="l00131"></a>00131 <span class="comment">// (Name conflict with windows.h)</span>
<a name="l00132"></a>00132 <span class="preprocessor">#ifdef MOD_SHIFT</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span><span class="preprocessor">  #undef MOD_SHIFT</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">#ifdef MOD_CTRL</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">  #undef MOD_CTRL</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span><span class="preprocessor">#ifdef MOD_ALT</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor">  #undef MOD_ALT</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define MOD_SHIFT 0x1000</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define MOD_CTRL  0x2000</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span><span class="preprocessor">#define MOD_ALT   0x4000</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span>
<a name="l00145"></a>00145 GFX2_GLOBAL byte Quit_demande; <span class="comment">// !=0 lorsque l'utilisateur demande la fermeture de fenêtre.</span>
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 GFX2_GLOBAL byte Mouse_Facteur_de_correction_X;
<a name="l00148"></a>00148 GFX2_GLOBAL byte Mouse_Facteur_de_correction_Y;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 GFX2_GLOBAL byte Autoriser_changement_de_couleur_pendant_operation;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">// Données sur le curseur</span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 GFX2_GLOBAL byte Forme_curseur;
<a name="l00155"></a>00155 GFX2_GLOBAL byte Forme_curseur_avant_fenetre; <span class="comment">// Forme du curseur avant l'ouverture d'une fenêtre</span>
<a name="l00156"></a>00156 GFX2_GLOBAL byte Forcer_affichage_curseur;    <span class="comment">// Forcer l'affichage du curseur au prochain Get_input();</span>
<a name="l00157"></a>00157 GFX2_GLOBAL byte Cacher_curseur;
<a name="l00158"></a>00158 GFX2_GLOBAL byte Curseur_dans_menu;           <span class="comment">// Booléen "Le curseur se trouve dans le menu"</span>
<a name="l00159"></a>00159 GFX2_GLOBAL byte Curseur_dans_menu_precedent; <span class="comment">// Booléen "Le curseur se trouvait précédemment dans le menu"</span>
<a name="l00160"></a>00160 GFX2_GLOBAL word Curseur_Decalage_X[NB_SPRITES_CURSEUR]; <span class="comment">// Coordonnées X du point sensible de curseurs en sprite</span>
<a name="l00161"></a>00161 GFX2_GLOBAL word Curseur_Decalage_Y[NB_SPRITES_CURSEUR]; <span class="comment">// Coordonnées Y du point sensible de curseurs en sprite</span>
<a name="l00162"></a>00162 GFX2_GLOBAL byte SPRITE_CURSEUR[NB_SPRITES_CURSEUR][HAUTEUR_SPRITE_CURSEUR][LARGEUR_SPRITE_CURSEUR]; <span class="comment">// Dessins des sprites de curseur</span>
<a name="l00163"></a>00163 GFX2_GLOBAL byte FOND_CURSEUR[HAUTEUR_SPRITE_CURSEUR][LARGEUR_SPRITE_CURSEUR]; <span class="comment">// Contenu du dessous du curseur</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165   <span class="comment">// Données sur le pinceau</span>
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 GFX2_GLOBAL byte  Pinceau_Forme;
<a name="l00168"></a>00168 GFX2_GLOBAL byte  Pinceau_Forme_avant_fill;
<a name="l00169"></a>00169 GFX2_GLOBAL byte  Pinceau_Forme_avant_pipette;
<a name="l00170"></a>00170 GFX2_GLOBAL byte  Pinceau_Forme_avant_lasso;
<a name="l00171"></a>00171 GFX2_GLOBAL byte  Cacher_pinceau;
<a name="l00172"></a>00172 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_X;
<a name="l00173"></a>00173 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_Y;
<a name="l00174"></a>00174 GFX2_GLOBAL byte  SPRITE_PINCEAU [NB_SPRITES_PINCEAU][HAUTEUR_PINCEAU][LARGEUR_PINCEAU];
<a name="l00175"></a>00175 GFX2_GLOBAL word  Pinceau_predefini_Largeur[NB_SPRITES_PINCEAU];
<a name="l00176"></a>00176 GFX2_GLOBAL word  Pinceau_predefini_Hauteur[NB_SPRITES_PINCEAU];
<a name="l00177"></a>00177 GFX2_GLOBAL byte  Pinceau_Type[NB_SPRITES_PINCEAU];
<a name="l00178"></a>00178 GFX2_GLOBAL word  Pinceau_predefini_Decalage_X[NB_SPRITES_PINCEAU];
<a name="l00179"></a>00179 GFX2_GLOBAL word  Pinceau_predefini_Decalage_Y[NB_SPRITES_PINCEAU];
<a name="l00180"></a>00180 GFX2_GLOBAL byte * Pinceau_Sprite;
<a name="l00181"></a>00181 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_Largeur;
<a name="l00182"></a>00182 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_Hauteur;
<a name="l00183"></a>00183 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_Decalage_X;
<a name="l00184"></a>00184 GFX2_GLOBAL <span class="keywordtype">short</span> Pinceau_Decalage_Y;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="comment">// Commandes graphiques</span>
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 GFX2_GLOBAL <span class="keywordtype">int</span> Pixel_ratio;
<a name="l00189"></a>00189 GFX2_GLOBAL <span class="keywordtype">int</span> Pixel_width;
<a name="l00190"></a>00190 GFX2_GLOBAL <span class="keywordtype">int</span> Pixel_height;
<a name="l00191"></a>00191 GFX2_GLOBAL fonction_afficheur Pixel;          <span class="comment">// Affiche un point à l'écran</span>
<a name="l00192"></a>00192 GFX2_GLOBAL fonction_afficheur Pixel_dans_menu;<span class="comment">// Affiche un point dans le menu (ou pas si le menu est invisible)</span>
<a name="l00193"></a>00193 GFX2_GLOBAL fonction_lecteur   Lit_pixel;      <span class="comment">// Teste la couleur d'un pixel dans l'écran</span>
<a name="l00194"></a>00194 GFX2_GLOBAL fonction_display   Display_screen; <span class="comment">// Affiche rapidement tout l'écran (en faisant attention de ne pas effacer le menu)</span>
<a name="l00195"></a>00195 GFX2_GLOBAL fonction_block     Block;          <span class="comment">// Affiche rapidement un bloc à l'écran</span>
<a name="l00196"></a>00196 GFX2_GLOBAL fonction_afficheur Pixel_Preview_Normal; <span class="comment">// Affiche un point de l'image à l'écran en mode normal (pas en mode loupe)</span>
<a name="l00197"></a>00197 GFX2_GLOBAL fonction_afficheur Pixel_Preview_Loupe;  <span class="comment">// Affiche un point de l'image à l'écran en mode loupe</span>
<a name="l00198"></a>00198 GFX2_GLOBAL fonction_afficheur Pixel_Preview;        <span class="comment">// Affiche un point de l'image à l'écran en fonction de l'état du mode loupe</span>
<a name="l00199"></a>00199 GFX2_GLOBAL fonction_Ligne_XOR Ligne_horizontale_XOR;<span class="comment">// Affiche une ligne horizontale en XOR (pour placer la loupe)</span>
<a name="l00200"></a>00200 GFX2_GLOBAL fonction_Ligne_XOR Ligne_verticale_XOR;  <span class="comment">// Affiche une ligne verticale en XOR (pour placer la loupe)</span>
<a name="l00201"></a>00201 GFX2_GLOBAL fonction_display_brush_Color Display_brush_Color; <span class="comment">// Affiche une partie de la brosse en couleur</span>
<a name="l00202"></a>00202 GFX2_GLOBAL fonction_display_brush_Mono  Display_brush_Mono;  <span class="comment">// Affiche une partie de la brosse en monochrome</span>
<a name="l00203"></a>00203 GFX2_GLOBAL fonction_display_brush_Color Clear_brush;         <span class="comment">// Efface la partie de la brosse affichée à l'écran</span>
<a name="l00204"></a>00204 GFX2_GLOBAL fonction_remap     Remap_screen;   <span class="comment">// Remappe une partie de l'écran avec les nouvelles couleurs du menu</span>
<a name="l00205"></a>00205 GFX2_GLOBAL fonction_procsline Afficher_ligne;  <span class="comment">// Afficher une ligne</span>
<a name="l00206"></a>00206 GFX2_GLOBAL fonction_procsline Afficher_ligne_fast;  <span class="comment">// Afficher une ligne talle quelle (sans la doubler en mode wide)</span>
<a name="l00207"></a>00207 GFX2_GLOBAL fonction_procsline Lire_ligne;      <span class="comment">// Afficher ou lire une ligne</span>
<a name="l00208"></a>00208 GFX2_GLOBAL fonction_display_zoom Display_zoomed_screen; <span class="comment">// Affiche rapidement toute la partie zoomée à l'écran (en faisant attention de ne pas effacer le menu)</span>
<a name="l00209"></a>00209 GFX2_GLOBAL fonction_display_brush_Color_zoom Display_brush_Color_zoom;
<a name="l00210"></a>00210 GFX2_GLOBAL fonction_display_brush_Mono_zoom  Display_brush_Mono_zoom;
<a name="l00211"></a>00211 GFX2_GLOBAL fonction_display_brush_Color_zoom Clear_brush_zoom;
<a name="l00212"></a>00212 GFX2_GLOBAL fonction_affiche_brosse Affiche_brosse;
<a name="l00213"></a>00213   <span class="comment">// Données sur les dimensions de l'écran</span>
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 GFX2_GLOBAL <span class="keywordtype">int</span>   Resize_Largeur;      <span class="comment">// \__ Positionnées lorsque l'utilisateur tire</span>
<a name="l00216"></a>00216 GFX2_GLOBAL <span class="keywordtype">int</span>   Resize_Hauteur;      <span class="comment">// /      un bord de la fenêtre.</span>
<a name="l00217"></a>00217 GFX2_GLOBAL <span class="keywordtype">int</span>   Resolution_actuelle; <span class="comment">// Résolution graphique courante</span>
<a name="l00218"></a>00218 GFX2_GLOBAL <span class="keywordtype">short</span> Ecran_original_X;    <span class="comment">// |_ Dimensions de l'écran d'origine de</span>
<a name="l00219"></a>00219 GFX2_GLOBAL <span class="keywordtype">short</span> Ecran_original_Y;    <span class="comment">// |  l'image qui vient d'être chargée.</span>
<a name="l00220"></a>00220 GFX2_GLOBAL <span class="keywordtype">short</span> Largeur_ecran;       <span class="comment">// Largeur de l'écran</span>
<a name="l00221"></a>00221 GFX2_GLOBAL <span class="keywordtype">short</span> Hauteur_ecran;       <span class="comment">// Hauteur de l'écran</span>
<a name="l00222"></a>00222 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Haut;         <span class="comment">// |</span>
<a name="l00223"></a>00223 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Bas;          <span class="comment">// |_ Limites dans lesquelles</span>
<a name="l00224"></a>00224 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Gauche;       <span class="comment">// |  on peut écrire</span>
<a name="l00225"></a>00225 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Droite;       <span class="comment">// |</span>
<a name="l00226"></a>00226 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_visible_Bas;    <span class="comment">// |_ Derniers points visibles</span>
<a name="l00227"></a>00227 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_visible_Droite; <span class="comment">// |  "à l'image"</span>
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Haut_Zoom;         <span class="comment">// |</span>
<a name="l00230"></a>00230 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Bas_Zoom;          <span class="comment">// |_ Limites dans lesquelles on peut</span>
<a name="l00231"></a>00231 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Gauche_Zoom;       <span class="comment">// |  écrire dans la partie zoomée</span>
<a name="l00232"></a>00232 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_Droite_Zoom;       <span class="comment">// |</span>
<a name="l00233"></a>00233 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_visible_Bas_Zoom;    <span class="comment">// |_ Derniers points visibles "à</span>
<a name="l00234"></a>00234 GFX2_GLOBAL <span class="keywordtype">short</span> Limite_visible_Droite_Zoom; <span class="comment">// |  l'image" dans la partie zoomée</span>
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 GFX2_GLOBAL byte * Buffer_de_ligne_horizontale; <span class="comment">// Buffer d'affichage de lignes</span>
<a name="l00237"></a>00237 
<a name="l00238"></a>00238   <span class="comment">// Données sur l'image actuelle:</span>
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 GFX2_GLOBAL byte *    Principal_Ecran;   <span class="comment">// Ecran virtuel courant</span>
<a name="l00241"></a>00241 GFX2_GLOBAL T_Palette Principal_Palette; <span class="comment">// Palette de l'écran en cours</span>
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 GFX2_GLOBAL byte  Principal_Image_modifiee; <span class="comment">// L'image courante a été modifiée</span>
<a name="l00244"></a>00244 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_Largeur_image;  <span class="comment">// Largeur de l'image dans laquelle l'utilisateur désire travailler</span>
<a name="l00245"></a>00245 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_Hauteur_image;  <span class="comment">// Hauteur de l'image dans laquelle l'utilisateur désire travailler</span>
<a name="l00246"></a>00246 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_Decalage_X;     <span class="comment">// Décalage en X de l'écran par rapport au début de l'image</span>
<a name="l00247"></a>00247 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_Decalage_Y;     <span class="comment">// Décalage en Y de l'écran par rapport au début de l'image</span>
<a name="l00248"></a>00248 GFX2_GLOBAL <span class="keywordtype">short</span> Ancien_Principal_Decalage_X;
<a name="l00249"></a>00249 GFX2_GLOBAL <span class="keywordtype">short</span> Ancien_Principal_Decalage_Y;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 GFX2_GLOBAL <span class="keywordtype">char</span>  Principal_Repertoire_fichier[1024]; <span class="comment">// |_ Nom complet =</span>
<a name="l00252"></a>00252 GFX2_GLOBAL <span class="keywordtype">char</span>  Principal_Nom_fichier[256];         <span class="comment">// |  Repertoire_fichier+"\"+Nom_fichier</span>
<a name="l00253"></a>00253 GFX2_GLOBAL byte  Principal_Format_fichier;          <span class="comment">// Format auquel il faut lire et écrire le fichier</span>
<a name="l00254"></a>00254 GFX2_GLOBAL byte  Principal_Format;               <span class="comment">// Format du fileselect</span>
<a name="l00255"></a>00255 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_File_list_Position; <span class="comment">// Début de la partie affichée dans la liste de fichiers</span>
<a name="l00256"></a>00256 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_File_list_Decalage; <span class="comment">// Décalage de la barre de sélection dans le fileselector</span>
<a name="l00257"></a>00257 GFX2_GLOBAL <span class="keywordtype">char</span>  Principal_Repertoire_courant[1024]; <span class="comment">// Répertoire actuel sur disque</span>
<a name="l00258"></a>00258 GFX2_GLOBAL <span class="keywordtype">char</span>  Principal_Commentaire[TAILLE_COMMENTAIRE+1]; <span class="comment">// Commentaire de l'image</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_Split; <span class="comment">// Position en X du bord gauche du split de la loupe</span>
<a name="l00261"></a>00261 GFX2_GLOBAL <span class="keywordtype">short</span> Principal_X_Zoom; <span class="comment">// (Menu_Facteur_X) + Position en X du bord droit du split de la loupe</span>
<a name="l00262"></a>00262 GFX2_GLOBAL <span class="keywordtype">float</span> Principal_Proportion_split; <span class="comment">// Proportion de la zone non-zoomée par rapport à l'écran</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264   <span class="comment">// Données sur le brouillon:</span>
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 GFX2_GLOBAL byte *    Brouillon_Ecran;   <span class="comment">// Ecran virtuel brouillon</span>
<a name="l00267"></a>00267 GFX2_GLOBAL T_Palette Brouillon_Palette; <span class="comment">// Palette de l'écran de brouillon</span>
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 GFX2_GLOBAL byte  Brouillon_Image_modifiee; <span class="comment">// Le brouillon a été modifié</span>
<a name="l00270"></a>00270 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Largeur_image;  <span class="comment">// Largeur du brouillon dans laquelle l'utilisateur désire travailler</span>
<a name="l00271"></a>00271 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Hauteur_image;  <span class="comment">// Hauteur du brouillon dans laquelle l'utilisateur désire travailler</span>
<a name="l00272"></a>00272 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Decalage_X;     <span class="comment">// Décalage en X du brouillon par rapport au début de l'image</span>
<a name="l00273"></a>00273 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Decalage_Y;     <span class="comment">// Décalage en Y du brouillon par rapport au début de l'image</span>
<a name="l00274"></a>00274 GFX2_GLOBAL <span class="keywordtype">short</span> Ancien_Brouillon_Decalage_X;
<a name="l00275"></a>00275 GFX2_GLOBAL <span class="keywordtype">short</span> Ancien_Brouillon_Decalage_Y;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 GFX2_GLOBAL <span class="keywordtype">char</span>  Brouillon_Repertoire_fichier[TAILLE_CHEMIN_FICHIER]; <span class="comment">// |_ Nom complet =</span>
<a name="l00278"></a>00278 GFX2_GLOBAL <span class="keywordtype">char</span>  Brouillon_Nom_fichier[TAILLE_CHEMIN_FICHIER];        <span class="comment">// |  Repertoire_fichier+"\"+Nom_fichier</span>
<a name="l00279"></a>00279 GFX2_GLOBAL byte  Brouillon_Format_fichier;          <span class="comment">// Format auquel il faut lire et écrire le fichier</span>
<a name="l00280"></a>00280 GFX2_GLOBAL byte  Brouillon_Format;               <span class="comment">// Format du fileselect</span>
<a name="l00281"></a>00281 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_File_list_Position; <span class="comment">// Début de la partie affichée dans la liste de fichiers</span>
<a name="l00282"></a>00282 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_File_list_Decalage; <span class="comment">// Décalage de la barre de sélection dans le fileselector</span>
<a name="l00283"></a>00283 GFX2_GLOBAL <span class="keywordtype">char</span>  Brouillon_Repertoire_courant[TAILLE_CHEMIN_FICHIER]; <span class="comment">// Répertoire actuel sur disque</span>
<a name="l00284"></a>00284 GFX2_GLOBAL <span class="keywordtype">char</span>  Brouillon_Commentaire[TAILLE_COMMENTAIRE+1]; <span class="comment">// Commentaire de l'image</span>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Split; <span class="comment">// Position en X du bord gauche du split de la loupe</span>
<a name="l00287"></a>00287 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_X_Zoom; <span class="comment">// (Menu_Facteur_X) + Position en X du bord droit du split de la loupe</span>
<a name="l00288"></a>00288 GFX2_GLOBAL <span class="keywordtype">float</span> Brouillon_Proportion_split; <span class="comment">// Proportion de la zone non-zoomée par rapport à l'écran</span>
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 GFX2_GLOBAL byte  Brouillon_Loupe_Mode;      <span class="comment">// On est en mode loupe dans le brouillon</span>
<a name="l00291"></a>00291 GFX2_GLOBAL word  Brouillon_Loupe_Facteur;   <span class="comment">// Facteur de zoom dans le brouillon</span>
<a name="l00292"></a>00292 GFX2_GLOBAL word  Brouillon_Loupe_Hauteur;   <span class="comment">// Largeur de la fenêtre de zoom dans le brouillon</span>
<a name="l00293"></a>00293 GFX2_GLOBAL word  Brouillon_Loupe_Largeur;   <span class="comment">// Hauteur de la fenêtre de zoom dans le brouillon</span>
<a name="l00294"></a>00294 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Loupe_Decalage_X;<span class="comment">// Decalage horizontal de la fenêtre de zoom dans le brouillon</span>
<a name="l00295"></a>00295 GFX2_GLOBAL <span class="keywordtype">short</span> Brouillon_Loupe_Decalage_Y;<span class="comment">// Decalage vertical   de la fenêtre de zoom dans le brouillon</span>
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 GFX2_GLOBAL byte Masque_copie_couleurs[256]; <span class="comment">// Tableau des couleurs à copier vers le brouillon</span>
<a name="l00298"></a>00298 
<a name="l00299"></a>00299   <span class="comment">// Sauvegarde de l'image:</span>
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 GFX2_GLOBAL byte * Ecran_backup;     <span class="comment">// Sauvegarde de l'écran virtuel courant</span>
<a name="l00302"></a>00302 GFX2_GLOBAL <a class="code" href="structS__Liste__de__pages.html">S_Liste_de_pages</a> * Principal_Backups; <span class="comment">// Liste des pages de backup de la page principale</span>
<a name="l00303"></a>00303 GFX2_GLOBAL <a class="code" href="structS__Liste__de__pages.html">S_Liste_de_pages</a> * Brouillon_Backups; <span class="comment">// Liste des pages de backup de la page de brouillon</span>
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 
<a name="l00306"></a>00306   <span class="comment">// Données sur la brosse:</span>
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 GFX2_GLOBAL byte * Brosse;          <span class="comment">// Sprite de la brosse</span>
<a name="l00309"></a>00309 GFX2_GLOBAL word Brosse_Decalage_X; <span class="comment">// Centre horizontal de la brosse</span>
<a name="l00310"></a>00310 GFX2_GLOBAL word Brosse_Decalage_Y; <span class="comment">// Centre vertical de la brosse</span>
<a name="l00311"></a>00311 GFX2_GLOBAL word Brosse_Largeur;    <span class="comment">// Largeur de la brosse</span>
<a name="l00312"></a>00312 GFX2_GLOBAL word Brosse_Hauteur;    <span class="comment">// Hauteur de la brosse</span>
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 GFX2_GLOBAL <span class="keywordtype">char</span>  Brosse_Repertoire_fichier[TAILLE_CHEMIN_FICHIER];<span class="comment">// |</span>
<a name="l00315"></a>00315 GFX2_GLOBAL <span class="keywordtype">char</span>  Brosse_Nom_fichier[TAILLE_CHEMIN_FICHIER];       <span class="comment">// |</span>
<a name="l00316"></a>00316 GFX2_GLOBAL byte  Brosse_Format_fichier;                           <span class="comment">// |  Infos sur le</span>
<a name="l00317"></a>00317 GFX2_GLOBAL byte  Brosse_Format;                                   <span class="comment">// |_ sélecteur de</span>
<a name="l00318"></a>00318 GFX2_GLOBAL <span class="keywordtype">short</span> Brosse_File_list_Position;                       <span class="comment">// |  fichiers de la</span>
<a name="l00319"></a>00319 GFX2_GLOBAL <span class="keywordtype">short</span> Brosse_File_list_Decalage;                       <span class="comment">// |  brosse.</span>
<a name="l00320"></a>00320 GFX2_GLOBAL <span class="keywordtype">char</span>  Brosse_Repertoire_courant[256];                  <span class="comment">// |</span>
<a name="l00321"></a>00321 GFX2_GLOBAL <span class="keywordtype">char</span>  Brosse_Commentaire[TAILLE_COMMENTAIRE+1];        <span class="comment">// |</span>
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 GFX2_GLOBAL byte  Brosse_Centre_rotation_defini; <span class="comment">// |  Infos sur le</span>
<a name="l00324"></a>00324 GFX2_GLOBAL <span class="keywordtype">short</span> Brosse_Centre_rotation_X;      <span class="comment">// |- centre de rotation</span>
<a name="l00325"></a>00325 GFX2_GLOBAL <span class="keywordtype">short</span> Brosse_Centre_rotation_Y;      <span class="comment">// |  de la brosse</span>
<a name="l00326"></a>00326 
<a name="l00327"></a>00327   <span class="comment">// Données sur le menu</span>
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 GFX2_GLOBAL byte  Menu_visible;        <span class="comment">// Le menu est actif à l'écran</span>
<a name="l00330"></a>00330 GFX2_GLOBAL word  Menu_Ordonnee;       <span class="comment">// Ordonnée où commence le menu</span>
<a name="l00331"></a>00331 GFX2_GLOBAL word  Menu_Ordonnee_Texte; <span class="comment">// Ordonnée où commence le texte dans le menu</span>
<a name="l00332"></a>00332 GFX2_GLOBAL byte  Menu_Facteur_X;      <span class="comment">// Facteur de grossissement du menu en X</span>
<a name="l00333"></a>00333 GFX2_GLOBAL byte  Menu_Facteur_Y;      <span class="comment">// Facteur de grossissement du menu en Y</span>
<a name="l00334"></a>00334 GFX2_GLOBAL word  Menu_Taille_couleur; <span class="comment">// Taille d'une couleur de la palette du menu</span>
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 
<a name="l00337"></a>00337   <span class="comment">// Données sur la fenêtre de menu</span>
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 GFX2_GLOBAL byte Fenetre; <span class="comment">// Nombre de fenetres empilées. 0 si pas de fenetre ouverte.</span>
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 GFX2_GLOBAL byte Menu_visible_avant_fenetre;  <span class="comment">// Le menu était visible avant d'ouvir une fenêtre</span>
<a name="l00342"></a>00342 GFX2_GLOBAL word Menu_Ordonnee_avant_fenetre; <span class="comment">// Ordonnée du menu avant d'ouvrir une fenêtre</span>
<a name="l00343"></a>00343 GFX2_GLOBAL byte Cacher_pinceau_avant_fenetre;<span class="comment">// Le pinceau étatit déjà caché avant l'ouverture de la fenetre?</span>
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 GFX2_GLOBAL word Pile_Fenetre_Pos_X[8];   <span class="comment">// Position du bord gauche de la fenêtre dans l'écran</span>
<a name="l00346"></a>00346 <span class="preprocessor">#define Fenetre_Pos_X Pile_Fenetre_Pos_X[Fenetre-1]</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span>
<a name="l00348"></a>00348 GFX2_GLOBAL word Pile_Fenetre_Pos_Y[8];   <span class="comment">// Position du bord haut   de la fenêtre dans l'écran</span>
<a name="l00349"></a>00349 <span class="preprocessor">#define Fenetre_Pos_Y Pile_Fenetre_Pos_Y[Fenetre-1]</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span>
<a name="l00351"></a>00351 GFX2_GLOBAL word Pile_Fenetre_Largeur[8]; <span class="comment">// Largeur de la fenêtre</span>
<a name="l00352"></a>00352 <span class="preprocessor">#define Fenetre_Largeur Pile_Fenetre_Largeur[Fenetre-1]</span>
<a name="l00353"></a>00353 <span class="preprocessor"></span>
<a name="l00354"></a>00354 GFX2_GLOBAL word Pile_Fenetre_Hauteur[8]; <span class="comment">// Hauteur de la fenêtre</span>
<a name="l00355"></a>00355 <span class="preprocessor">#define Fenetre_Hauteur Pile_Fenetre_Hauteur[Fenetre-1]</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span>
<a name="l00357"></a>00357 GFX2_GLOBAL word Pile_Nb_boutons_fenetre[8];
<a name="l00358"></a>00358 <span class="preprocessor">#define Nb_boutons_fenetre Pile_Nb_boutons_fenetre[Fenetre-1]</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span>
<a name="l00360"></a>00360 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structFenetre__Bouton__normal.html">Fenetre_Bouton_normal</a>   * Pile_Fenetre_Liste_boutons_normal[8];
<a name="l00361"></a>00361 <span class="preprocessor">#define Fenetre_Liste_boutons_normal Pile_Fenetre_Liste_boutons_normal[Fenetre-1]</span>
<a name="l00362"></a>00362 <span class="preprocessor"></span>
<a name="l00363"></a>00363 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structFenetre__Bouton__palette.html">Fenetre_Bouton_palette</a>  * Pile_Fenetre_Liste_boutons_palette[8];
<a name="l00364"></a>00364 <span class="preprocessor">#define Fenetre_Liste_boutons_palette Pile_Fenetre_Liste_boutons_palette[Fenetre-1]</span>
<a name="l00365"></a>00365 <span class="preprocessor"></span>
<a name="l00366"></a>00366 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structFenetre__Bouton__scroller.html">Fenetre_Bouton_scroller</a> * Pile_Fenetre_Liste_boutons_scroller[8];
<a name="l00367"></a>00367 <span class="preprocessor">#define Fenetre_Liste_boutons_scroller Pile_Fenetre_Liste_boutons_scroller[Fenetre-1]</span>
<a name="l00368"></a>00368 <span class="preprocessor"></span>
<a name="l00369"></a>00369 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structFenetre__Bouton__special.html">Fenetre_Bouton_special</a>  * Pile_Fenetre_Liste_boutons_special[8];
<a name="l00370"></a>00370 <span class="preprocessor">#define Fenetre_Liste_boutons_special Pile_Fenetre_Liste_boutons_special[Fenetre-1]</span>
<a name="l00371"></a>00371 <span class="preprocessor"></span>
<a name="l00372"></a>00372 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structFenetre__Bouton__dropdown.html">Fenetre_Bouton_dropdown</a>  * Pile_Fenetre_Liste_boutons_dropdown[8];
<a name="l00373"></a>00373 <span class="preprocessor">#define Fenetre_Liste_boutons_dropdown Pile_Fenetre_Liste_boutons_dropdown[Fenetre-1]</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span>
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 GFX2_GLOBAL <span class="keywordtype">int</span> Pile_Fenetre_Attribut1[8];
<a name="l00377"></a>00377 <span class="preprocessor">#define Fenetre_Attribut1 Pile_Fenetre_Attribut1[Fenetre-1]</span>
<a name="l00378"></a>00378 <span class="preprocessor"></span>
<a name="l00379"></a>00379 <span class="comment">// Cette variable sert à stocker 2 informations:</span>
<a name="l00380"></a>00380 <span class="comment">// - Sur le click d'un scroller, la position active (0-n)</span>
<a name="l00381"></a>00381 <span class="comment">// - Sur le click d'une palette, le numero de couleur (0-255).</span>
<a name="l00382"></a>00382 GFX2_GLOBAL <span class="keywordtype">int</span> Pile_Fenetre_Attribut2[8];
<a name="l00383"></a>00383 <span class="preprocessor">#define Fenetre_Attribut2 Pile_Fenetre_Attribut2[Fenetre-1]</span>
<a name="l00384"></a>00384 <span class="preprocessor"></span>
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 <span class="comment">// Définition des boutons ////////////////////////////////////////////////////</span>
<a name="l00389"></a>00389 
<a name="l00390"></a>00390 GFX2_GLOBAL <span class="keyword">struct</span>
<a name="l00391"></a>00391 {
<a name="l00392"></a>00392   <span class="comment">// Informations sur l'aspect du bouton (graphisme):</span>
<a name="l00393"></a>00393   word            Decalage_X;        <span class="comment">// Décalage par rapport à la gauche du menu</span>
<a name="l00394"></a>00394   word            Decalage_Y;        <span class="comment">// Décalage par rapport au haut du menu</span>
<a name="l00395"></a>00395   word            <a class="code" href="structFenetre__Bouton__dropdown.html#9640e0c4dfe4655e78f79868da3ae05b">Largeur</a>;           <span class="comment">// Largeur du bouton</span>
<a name="l00396"></a>00396   word            <a class="code" href="structFenetre__Bouton__dropdown.html#61b37b3cfbf7cd578282c7a66f57efb4">Hauteur</a>;           <span class="comment">// Hauteur du bouton</span>
<a name="l00397"></a>00397   byte            Enfonce;           <span class="comment">// Le bouton est enfoncé</span>
<a name="l00398"></a>00398   byte            Forme;             <span class="comment">// Forme du bouton</span>
<a name="l00399"></a>00399 
<a name="l00400"></a>00400   <span class="comment">// Information sur les clicks de la souris:</span>
<a name="l00401"></a>00401   fonction_action Gauche;            <span class="comment">// Action déclenchée par un click gauche sur le bouton</span>
<a name="l00402"></a>00402   fonction_action Droite;            <span class="comment">// Action déclenchée par un click droit  sur le bouton</span>
<a name="l00403"></a>00403   word            Raccourci_gauche[2];  <span class="comment">// Raccourci clavier équivalent à un click gauche sur le bouton</span>
<a name="l00404"></a>00404   word            Raccourci_droite[2];  <span class="comment">// Raccourci clavier équivalent à un click droit  sur le bouton</span>
<a name="l00405"></a>00405 
<a name="l00406"></a>00406   <span class="comment">// Informations sur le désenclenchement du bouton géré par le moteur:</span>
<a name="l00407"></a>00407   fonction_action Desenclencher;     <span class="comment">// Action appelée lors du désenclenchement du bouton</span>
<a name="l00408"></a>00408   byte            Famille;           <span class="comment">// Ensemble de boutons auquel celui-ci appartient</span>
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 } Bouton[NB_BOUTONS];
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 <span class="comment">// Informations sur les différents modes de dessin</span>
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 GFX2_GLOBAL fonction_effet Fonction_effet;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 GFX2_GLOBAL byte * FX_Feedback_Ecran;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 GFX2_GLOBAL byte Exclude_color[256]; <span class="comment">// Couleurs à exclure pour Meilleure_couleur</span>
<a name="l00421"></a>00421 
<a name="l00422"></a>00422   <span class="comment">// Mode smear:</span>
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 GFX2_GLOBAL byte  Smear_Mode;    <span class="comment">// Le mode smear est enclenché</span>
<a name="l00425"></a>00425 GFX2_GLOBAL byte  Smear_Debut;   <span class="comment">// On vient juste de commencer une opération en Smear</span>
<a name="l00426"></a>00426 GFX2_GLOBAL byte * Smear_Brosse; <span class="comment">// Sprite de la brosse de Smear</span>
<a name="l00427"></a>00427 GFX2_GLOBAL word  Smear_Brosse_Largeur; <span class="comment">// Largeur de la brosse de Smear</span>
<a name="l00428"></a>00428 GFX2_GLOBAL word  Smear_Brosse_Hauteur; <span class="comment">// Hauteur de la brosse de Smear</span>
<a name="l00429"></a>00429 GFX2_GLOBAL <span class="keywordtype">short</span> Smear_Min_X,Smear_Max_X,Smear_Min_Y,Smear_Max_Y; <span class="comment">// Bornes de la Brosse du smear</span>
<a name="l00430"></a>00430 
<a name="l00431"></a>00431   <span class="comment">// Mode shade:</span>
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structT__Shade.html">T_Shade</a> Shade_Liste[8]; <span class="comment">// Listes de shade</span>
<a name="l00434"></a>00434 GFX2_GLOBAL byte           Shade_Actuel;   <span class="comment">// Numéro du shade en cours</span>
<a name="l00435"></a>00435 GFX2_GLOBAL byte *         Shade_Table;    <span class="comment">// Table de conversion de shade en cours</span>
<a name="l00436"></a>00436 GFX2_GLOBAL byte           Shade_Table_gauche[256]; <span class="comment">// Table de conversion de shade pour un clic gauche</span>
<a name="l00437"></a>00437 GFX2_GLOBAL byte           Shade_Table_droite[256]; <span class="comment">// Table de conversion de shade pour un clic droit</span>
<a name="l00438"></a>00438 GFX2_GLOBAL byte           Shade_Mode;     <span class="comment">// Le mode shade est enclenché</span>
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 GFX2_GLOBAL byte           Quick_shade_Mode; <span class="comment">// Le mode quick-shade est enclenché</span>
<a name="l00441"></a>00441 GFX2_GLOBAL byte           Quick_shade_Step; <span class="comment">// Pas du mode quick-shade</span>
<a name="l00442"></a>00442 GFX2_GLOBAL byte           Quick_shade_Loop; <span class="comment">// Normal / Loop / No sat.</span>
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <span class="comment">// Mode stencil:</span>
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 GFX2_GLOBAL byte Stencil_Mode;  <span class="comment">// Le mode stencil est enclenché</span>
<a name="l00447"></a>00447 GFX2_GLOBAL byte Stencil[256];  <span class="comment">// Tableau des couleurs protégées</span>
<a name="l00448"></a>00448 
<a name="l00449"></a>00449   <span class="comment">// Mode grille:</span>
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 GFX2_GLOBAL byte  Snap_Mode;       <span class="comment">// Le mode grille est enclenché</span>
<a name="l00452"></a>00452 GFX2_GLOBAL word Snap_Largeur;    <span class="comment">// Largeur entre 2 points de la grille</span>
<a name="l00453"></a>00453 GFX2_GLOBAL word Snap_Hauteur;    <span class="comment">// Hauteur entre 2 points de la grille</span>
<a name="l00454"></a>00454 GFX2_GLOBAL word Snap_Decalage_X; <span class="comment">// Position en X du point le + à gauche</span>
<a name="l00455"></a>00455 GFX2_GLOBAL word Snap_Decalage_Y; <span class="comment">// Position en Y du point le + en haut</span>
<a name="l00456"></a>00456 
<a name="l00457"></a>00457   <span class="comment">// Mode trame:</span>
<a name="l00458"></a>00458 
<a name="l00459"></a>00459 GFX2_GLOBAL byte  Trame_Mode;    <span class="comment">// Le mode Trame est enclenché</span>
<a name="l00460"></a>00460 GFX2_GLOBAL byte  Trame[16][16]; <span class="comment">// Sprite de la trame</span>
<a name="l00461"></a>00461 GFX2_GLOBAL word  TRAME_PREDEFINIE[12][16]; <span class="comment">// Trames préséfinies (compactées sur 16*16 bits)</span>
<a name="l00462"></a>00462 GFX2_GLOBAL <span class="keywordtype">short</span> Trame_Largeur; <span class="comment">// Largeur de la trame</span>
<a name="l00463"></a>00463 GFX2_GLOBAL <span class="keywordtype">short</span> Trame_Hauteur; <span class="comment">// Hauteur de la trame</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465   <span class="comment">// Mode colorize:</span>
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 GFX2_GLOBAL byte Colorize_Mode;          <span class="comment">// Le mode Colorize est enclenché</span>
<a name="l00468"></a>00468 GFX2_GLOBAL byte Colorize_Opacite;       <span class="comment">// Intensité du Colorize</span>
<a name="l00469"></a>00469 GFX2_GLOBAL byte Colorize_Mode_en_cours; <span class="comment">// Le type de Colorize en cours (0-2)</span>
<a name="l00470"></a>00470 GFX2_GLOBAL word Table_de_multiplication_par_Facteur_A[256];
<a name="l00471"></a>00471 GFX2_GLOBAL word Table_de_multiplication_par_Facteur_B[256];
<a name="l00472"></a>00472 
<a name="l00473"></a>00473   <span class="comment">// Mode smooth:</span>
<a name="l00474"></a>00474 
<a name="l00475"></a>00475 GFX2_GLOBAL byte Smooth_Mode;          <span class="comment">// Le mode Smooth est enclenché</span>
<a name="l00476"></a>00476 GFX2_GLOBAL byte Smooth_Matrice[3][3]; <span class="comment">// La matrice du Smooth actuel</span>
<a name="l00477"></a>00477 
<a name="l00478"></a>00478   <span class="comment">// Mode Tiling:</span>
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 GFX2_GLOBAL byte  Tiling_Mode;       <span class="comment">// Le mode Tiling est enclenché</span>
<a name="l00481"></a>00481 GFX2_GLOBAL <span class="keywordtype">short</span> Tiling_Decalage_X; <span class="comment">// Décalage du tiling en X</span>
<a name="l00482"></a>00482 GFX2_GLOBAL <span class="keywordtype">short</span> Tiling_Decalage_Y; <span class="comment">// Décalage du tiling en Y</span>
<a name="l00483"></a>00483 
<a name="l00484"></a>00484   <span class="comment">// Mode Mask</span>
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 GFX2_GLOBAL byte Mask_Mode;  <span class="comment">// Le mode Masque est enclenché</span>
<a name="l00487"></a>00487 GFX2_GLOBAL byte Mask_table[256];  <span class="comment">// Tableau des couleurs constituant le masque</span>
<a name="l00488"></a>00488 
<a name="l00489"></a>00489   <span class="comment">// Mode loupe:</span>
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 GFX2_GLOBAL byte  Loupe_Mode;
<a name="l00492"></a>00492 GFX2_GLOBAL word  Loupe_Facteur;
<a name="l00493"></a>00493 GFX2_GLOBAL word  Loupe_Hauteur;
<a name="l00494"></a>00494 GFX2_GLOBAL word  Loupe_Largeur;
<a name="l00495"></a>00495 GFX2_GLOBAL <span class="keywordtype">short</span> Loupe_Decalage_X;
<a name="l00496"></a>00496 GFX2_GLOBAL <span class="keywordtype">short</span> Loupe_Decalage_Y;
<a name="l00497"></a>00497 GFX2_GLOBAL word  * Table_mul_facteur_zoom;
<a name="l00498"></a>00498 GFX2_GLOBAL word  TABLE_ZOOM[NB_FACTEURS_DE_ZOOM][512];
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 <span class="preprocessor">#ifdef VARIABLES_GLOBALES</span>
<a name="l00501"></a>00501 <span class="preprocessor"></span>  word FACTEUR_ZOOM[NB_FACTEURS_DE_ZOOM]={2,3,4,5,6,8,10,12,14,16,18,20};
<a name="l00502"></a>00502 <span class="preprocessor">#else</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span>  <span class="keyword">extern</span> word FACTEUR_ZOOM[NB_FACTEURS_DE_ZOOM];
<a name="l00504"></a>00504 <span class="preprocessor">#endif</span>
<a name="l00505"></a>00505 <span class="preprocessor"></span>
<a name="l00506"></a>00506   <span class="comment">// Données sur les ellipses et les cercles:</span>
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 GFX2_GLOBAL <span class="keywordtype">long</span>  Ellipse_Curseur_X;
<a name="l00509"></a>00509 GFX2_GLOBAL <span class="keywordtype">long</span>  Ellipse_Curseur_Y;
<a name="l00510"></a>00510 GFX2_GLOBAL <span class="keywordtype">long</span>  Ellipse_Rayon_vertical_au_carre;
<a name="l00511"></a>00511 GFX2_GLOBAL <span class="keywordtype">long</span>  Ellipse_Rayon_horizontal_au_carre;
<a name="l00512"></a>00512 <span class="comment">//GFX2_GLOBAL long  Ellipse_Limite_High;</span>
<a name="l00513"></a>00513 <span class="comment">//GFX2_GLOBAL long  Ellipse_Limite_Low;</span>
<a name="l00514"></a>00514 GFX2_GLOBAL uint64_t Ellipse_Limite;
<a name="l00515"></a>00515 GFX2_GLOBAL <span class="keywordtype">long</span>  Cercle_Curseur_X;
<a name="l00516"></a>00516 GFX2_GLOBAL <span class="keywordtype">long</span>  Cercle_Curseur_Y;
<a name="l00517"></a>00517 GFX2_GLOBAL <span class="keywordtype">long</span>  Cercle_Limite;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519   <span class="comment">// Données sur les dégradés:</span>
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 GFX2_GLOBAL <span class="keywordtype">short</span> Degrade_Borne_Inferieure;   <span class="comment">// Plus petite couleur englobée par le dégradé</span>
<a name="l00522"></a>00522 GFX2_GLOBAL <span class="keywordtype">short</span> Degrade_Borne_Superieure;   <span class="comment">// Plus grande couleur englobée par le dégradé</span>
<a name="l00523"></a>00523 GFX2_GLOBAL <span class="keywordtype">int</span>   Degrade_Inverse;            <span class="comment">// Booléen "Le dégradé est en réalité inversé"</span>
<a name="l00524"></a>00524 GFX2_GLOBAL <span class="keywordtype">long</span>  Degrade_Intervalle_bornes;  <span class="comment">// = Abs(Degrade_Borne_Inferieure-Degrade_Borne_Superieure)+1</span>
<a name="l00525"></a>00525 GFX2_GLOBAL <span class="keywordtype">long</span>  Degrade_Intervalle_total;   <span class="comment">// Valeur maximum des indices passés à la fonction de dégradé (!!! &gt;0 !!!)</span>
<a name="l00526"></a>00526 GFX2_GLOBAL <span class="keywordtype">long</span>  Degrade_Melange_aleatoire;  <span class="comment">// Facteur de mélange (1-256+) du dégradé</span>
<a name="l00527"></a>00527 GFX2_GLOBAL fonction_degrade Traiter_degrade; <span class="comment">// Fonction de traitement du dégradé, varie selon la méthode choisie par l'utilisateur.</span>
<a name="l00528"></a>00528 GFX2_GLOBAL fonction_afficheur Traiter_pixel_de_degrade; <span class="comment">// Redirection de l'affichage</span>
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structT__Degrade__Tableau.html">T_Degrade_Tableau</a> Degrade_Tableau[16]; <span class="comment">// Données de tous les dégradés</span>
<a name="l00531"></a>00531 GFX2_GLOBAL byte Degrade_Courant;             <span class="comment">// Indice du tableau correspondant au dégradé courant</span>
<a name="l00532"></a>00532 
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 
<a name="l00535"></a>00535   <span class="comment">// Données sur le Spray:</span>
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 GFX2_GLOBAL byte  Spray_Mode;            <span class="comment">// Mode Mono(1) ou Multicolore(0)</span>
<a name="l00538"></a>00538 GFX2_GLOBAL <span class="keywordtype">short</span> Spray_Size;            <span class="comment">// Diamètre du spray en pixels</span>
<a name="l00539"></a>00539 GFX2_GLOBAL byte  Spray_Delay;           <span class="comment">// Délai en VBLs entre 2 "pschiitt"</span>
<a name="l00540"></a>00540 GFX2_GLOBAL byte  Spray_Mono_flow;       <span class="comment">// Nombre de pixels qui sortent en même temps en mono</span>
<a name="l00541"></a>00541 GFX2_GLOBAL byte  Spray_Multi_flow[256]; <span class="comment">// Idem pour chaque couleur</span>
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 
<a name="l00544"></a>00544   <span class="comment">// Données diverses sur le programme:</span>
<a name="l00545"></a>00545 
<a name="l00546"></a>00546 GFX2_GLOBAL byte Sortir_du_programme;
<a name="l00547"></a>00547 GFX2_GLOBAL <span class="keywordtype">char</span> Repertoire_initial[256];          <span class="comment">// Répertoire à partir duquel à été lancé le programme</span>
<a name="l00548"></a>00548 GFX2_GLOBAL <span class="keywordtype">char</span> Repertoire_des_donnees[256];      <span class="comment">// Répertoire contenant les fichiers lus (interface graphique, etc)</span>
<a name="l00549"></a>00549 GFX2_GLOBAL <span class="keywordtype">char</span> Repertoire_de_configuration[256]; <span class="comment">// Répertoire contenant les fichiers .ini et .cfg</span>
<a name="l00550"></a>00550 GFX2_GLOBAL byte Fore_color;
<a name="l00551"></a>00551 GFX2_GLOBAL byte Back_color;
<a name="l00552"></a>00552 GFX2_GLOBAL byte Mode_de_dessin_en_cours;
<a name="l00553"></a>00553 GFX2_GLOBAL byte Courbe_en_cours;
<a name="l00554"></a>00554 GFX2_GLOBAL byte Ligne_en_cours;
<a name="l00555"></a>00555 GFX2_GLOBAL byte Couleur_debut_palette;
<a name="l00556"></a>00556 GFX2_GLOBAL byte Un_fichier_a_ete_passe_en_parametre;
<a name="l00557"></a>00557 GFX2_GLOBAL byte Une_resolution_a_ete_passee_en_parametre; <span class="comment">// utilisée uniquement si la variable précédente est à 1</span>
<a name="l00558"></a>00558 
<a name="l00559"></a>00559   <span class="comment">// Variables concernant l'OBJ DIVERS</span>
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 GFX2_GLOBAL word INPUT_Nouveau_Mouse_X;
<a name="l00562"></a>00562 GFX2_GLOBAL word INPUT_Nouveau_Mouse_Y;
<a name="l00563"></a>00563 GFX2_GLOBAL byte INPUT_Nouveau_Mouse_K;
<a name="l00564"></a>00564 GFX2_GLOBAL byte INPUT_Keyb_mode;
<a name="l00565"></a>00565 
<a name="l00566"></a>00566   <span class="comment">// Les différents sprites:</span>
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 GFX2_GLOBAL byte BLOCK_MENU[HAUTEUR_MENU][LARGEUR_MENU];
<a name="l00569"></a>00569 GFX2_GLOBAL byte SPRITE_MENU[NB_SPRITES_MENU][HAUTEUR_SPRITE_MENU][LARGEUR_SPRITE_MENU];
<a name="l00570"></a>00570 GFX2_GLOBAL byte SPRITE_EFFET[NB_SPRITES_EFFETS][HAUTEUR_SPRITE_MENU][LARGEUR_SPRITE_MENU];
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 GFX2_GLOBAL byte * Logo_GrafX2;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574 GFX2_GLOBAL byte Fonte_systeme[256*8*8];
<a name="l00575"></a>00575 GFX2_GLOBAL byte Fonte_fun    [256*8*8];
<a name="l00576"></a>00576 GFX2_GLOBAL byte Fonte_help_norm [256][6][8];
<a name="l00577"></a>00577 GFX2_GLOBAL byte Fonte_help_bold [256][6][8];
<a name="l00578"></a>00578 <span class="comment">// 12</span>
<a name="l00579"></a>00579 <span class="comment">// 34</span>
<a name="l00580"></a>00580 GFX2_GLOBAL byte Fonte_help_t1 [64][6][8];
<a name="l00581"></a>00581 GFX2_GLOBAL byte Fonte_help_t2 [64][6][8];
<a name="l00582"></a>00582 GFX2_GLOBAL byte Fonte_help_t3 [64][6][8];
<a name="l00583"></a>00583 GFX2_GLOBAL byte Fonte_help_t4 [64][6][8];
<a name="l00584"></a>00584 GFX2_GLOBAL byte * Fonte;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586   <span class="comment">// Les données de l'aide:</span>
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 GFX2_GLOBAL byte Section_d_aide_en_cours;  <span class="comment">// Indice de la table d'aide en cours de consultation</span>
<a name="l00589"></a>00589 GFX2_GLOBAL word Position_d_aide_en_cours; <span class="comment">// Numéro de la ligne d'aide en cours de consultation</span>
<a name="l00590"></a>00590 
<a name="l00591"></a>00591   <span class="comment">// Données sur les opérations</span>
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 GFX2_GLOBAL word Operation_avant_interruption; <span class="comment">// N° de l'opération en cours avant l'utilisation d'une interruption</span>
<a name="l00594"></a>00594 GFX2_GLOBAL word Operation_en_cours;           <span class="comment">// N° de l'opération en cours</span>
<a name="l00595"></a>00595 GFX2_GLOBAL word Operation_Pile[TAILLE_PILE_OPERATIONS]; <span class="comment">// Pile simplifiée</span>
<a name="l00596"></a>00596 GFX2_GLOBAL byte Operation_Taille_pile;    <span class="comment">// Taille effective de la pile (0=vide)</span>
<a name="l00597"></a>00597 GFX2_GLOBAL byte Operation_dans_loupe;     <span class="comment">// Indique si l'opération a commencé dans la partie Zoomée ou non</span>
<a name="l00598"></a>00598 
<a name="l00599"></a>00599 GFX2_GLOBAL <span class="keywordtype">short</span> Pipette_Couleur;
<a name="l00600"></a>00600 GFX2_GLOBAL <span class="keywordtype">short</span> Pipette_X;
<a name="l00601"></a>00601 GFX2_GLOBAL <span class="keywordtype">short</span> Pipette_Y;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 
<a name="l00604"></a>00604 <span class="preprocessor">#ifdef VARIABLES_GLOBALES</span>
<a name="l00605"></a>00605 <span class="preprocessor"></span>  byte CURSEUR_D_OPERATION[NB_OPERATIONS]=
<a name="l00606"></a>00606   {
<a name="l00607"></a>00607     FORME_CURSEUR_CIBLE            , <span class="comment">// Dessin à la main continu</span>
<a name="l00608"></a>00608     FORME_CURSEUR_CIBLE            , <span class="comment">// Dessin à la main discontinu</span>
<a name="l00609"></a>00609     FORME_CURSEUR_CIBLE            , <span class="comment">// Dessin à la main point par point</span>
<a name="l00610"></a>00610     FORME_CURSEUR_CIBLE            , <span class="comment">// Contour fill</span>
<a name="l00611"></a>00611     FORME_CURSEUR_CIBLE            , <span class="comment">// Lignes</span>
<a name="l00612"></a>00612     FORME_CURSEUR_CIBLE            , <span class="comment">// Lignes reliées</span>
<a name="l00613"></a>00613     FORME_CURSEUR_CIBLE            , <span class="comment">// Lignes centrées</span>
<a name="l00614"></a>00614     FORME_CURSEUR_CIBLE_XOR        , <span class="comment">// Rectangle vide</span>
<a name="l00615"></a>00615     FORME_CURSEUR_CIBLE_XOR        , <span class="comment">// Rectangle plein</span>
<a name="l00616"></a>00616     FORME_CURSEUR_CIBLE            , <span class="comment">// Cercles vides</span>
<a name="l00617"></a>00617     FORME_CURSEUR_CIBLE            , <span class="comment">// Cercles pleins</span>
<a name="l00618"></a>00618     FORME_CURSEUR_CIBLE            , <span class="comment">// Ellipses vides</span>
<a name="l00619"></a>00619     FORME_CURSEUR_CIBLE            , <span class="comment">// Ellipses pleines</span>
<a name="l00620"></a>00620     FORME_CURSEUR_CIBLE            , <span class="comment">// Fill</span>
<a name="l00621"></a>00621     FORME_CURSEUR_CIBLE            , <span class="comment">// Remplacer</span>
<a name="l00622"></a>00622     FORME_CURSEUR_CIBLE_XOR        , <span class="comment">// Prise de brosse rectangulaire</span>
<a name="l00623"></a>00623     FORME_CURSEUR_CIBLE            , <span class="comment">// Prise d'une brosse multiforme</span>
<a name="l00624"></a>00624     FORME_CURSEUR_CIBLE_PIPETTE    , <span class="comment">// Récupération d'une couleur</span>
<a name="l00625"></a>00625     FORME_CURSEUR_RECTANGLE_XOR    , <span class="comment">// Positionnement de la fenêtre de loupe</span>
<a name="l00626"></a>00626     FORME_CURSEUR_CIBLE            , <span class="comment">// Courbe à 3 points</span>
<a name="l00627"></a>00627     FORME_CURSEUR_CIBLE            , <span class="comment">// Courbe à 4 points</span>
<a name="l00628"></a>00628     FORME_CURSEUR_CIBLE            , <span class="comment">// Spray</span>
<a name="l00629"></a>00629     FORME_CURSEUR_CIBLE            , <span class="comment">// Polygone</span>
<a name="l00630"></a>00630     FORME_CURSEUR_CIBLE            , <span class="comment">// Polyforme</span>
<a name="l00631"></a>00631     FORME_CURSEUR_CIBLE            , <span class="comment">// Polyfill</span>
<a name="l00632"></a>00632     FORME_CURSEUR_CIBLE            , <span class="comment">// Polyforme rempli</span>
<a name="l00633"></a>00633     FORME_CURSEUR_MULTIDIRECTIONNEL, <span class="comment">// Scroll</span>
<a name="l00634"></a>00634     FORME_CURSEUR_CIBLE            , <span class="comment">// Cercles dégradés</span>
<a name="l00635"></a>00635     FORME_CURSEUR_CIBLE            , <span class="comment">// Ellipses dégradées</span>
<a name="l00636"></a>00636     FORME_CURSEUR_ROTATE_XOR       , <span class="comment">// Faire tourner brosse</span>
<a name="l00637"></a>00637     FORME_CURSEUR_CIBLE_XOR        , <span class="comment">// Etirer brosse</span>
<a name="l00638"></a>00638     FORME_CURSEUR_CIBLE            , <span class="comment">// Deformer brosse</span>
<a name="l00639"></a>00639     FORME_CURSEUR_CIBLE_XOR        , <span class="comment">// Rectangle degrade</span>
<a name="l00640"></a>00640   };
<a name="l00641"></a>00641 <span class="preprocessor">#else</span>
<a name="l00642"></a>00642 <span class="preprocessor"></span>  <span class="keyword">extern</span> byte CURSEUR_D_OPERATION[NB_OPERATIONS];
<a name="l00643"></a>00643 <span class="preprocessor">#endif</span>
<a name="l00644"></a>00644 <span class="preprocessor"></span>
<a name="l00645"></a>00645 
<a name="l00646"></a>00646   <span class="comment">// Procédures à appeler: Opération,Mouse_K,Etat de la pile</span>
<a name="l00647"></a>00647 
<a name="l00648"></a>00648 GFX2_GLOBAL <span class="keyword">struct</span>
<a name="l00649"></a>00649 {
<a name="l00650"></a>00650   byte Effacer_curseur; <span class="comment">// Booléen "il faut effacer le curseur pour l'opéra."</span>
<a name="l00651"></a>00651   fonction_action Action;                                   <span class="comment">// Action appelée</span>
<a name="l00652"></a>00652 } Operation[NB_OPERATIONS][3][TAILLE_PILE_OPERATIONS];
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 
<a name="l00656"></a>00656 <span class="comment">// Informations sur les lecteurs et autres images</span>
<a name="l00657"></a>00657 GFX2_GLOBAL byte SPRITE_DRIVE[NB_SPRITES_DRIVES][HAUTEUR_SPRITE_DRIVE][LARGEUR_SPRITE_DRIVE];
<a name="l00658"></a>00658 
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 <span class="comment">// -- Section des informations sur les formats de fichiers ------------------</span>
<a name="l00661"></a>00661 
<a name="l00662"></a>00662   <span class="comment">// Comptage du nb d'éléments dans la liste:</span>
<a name="l00663"></a>00663 GFX2_GLOBAL <span class="keywordtype">short</span> Liste_Nb_elements;
<a name="l00664"></a>00664 GFX2_GLOBAL <span class="keywordtype">short</span> Liste_Nb_fichiers;
<a name="l00665"></a>00665 GFX2_GLOBAL <span class="keywordtype">short</span> Liste_Nb_repertoires;
<a name="l00666"></a>00666   <span class="comment">// Tête de la liste chaînée:</span>
<a name="l00667"></a>00667 GFX2_GLOBAL <span class="keyword">struct </span><a class="code" href="structElement__de__liste__de__fileselect.html">Element_de_liste_de_fileselect</a> * Liste_du_fileselect;
<a name="l00668"></a>00668 
<a name="l00669"></a>00669 <span class="comment">// ------------------- Inititialisation des formats connus -------------------</span>
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 <span class="keywordtype">void</span> Rien_du_tout(<span class="keywordtype">void</span>);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 GFX2_GLOBAL <span class="keywordtype">signed</span> <span class="keywordtype">char</span> Erreur_fichier; <span class="comment">// 0: opération I/O OK</span>
<a name="l00674"></a>00674                                    <span class="comment">// 1: Erreur dès le début de l'opération</span>
<a name="l00675"></a>00675                                    <span class="comment">// 2: Erreur durant l'opération =&gt; données modifiées</span>
<a name="l00676"></a>00676                                    <span class="comment">//-1: Interruption du chargement d'une preview</span>
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 GFX2_GLOBAL <span class="keywordtype">int</span> Ligne_INI;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 GFX2_GLOBAL fonction_afficheur Pixel_de_chargement;
<a name="l00681"></a>00681 GFX2_GLOBAL fonction_lecteur   Lit_pixel_de_sauvegarde;
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 <span class="comment">/********************</span>
<a name="l00684"></a>00684 <span class="comment"> * Spécifique à SDL *</span>
<a name="l00685"></a>00685 <span class="comment"> ********************/</span>
<a name="l00686"></a>00686 GFX2_GLOBAL SDL_Surface * Ecran_SDL;
<a name="l00687"></a>00687 GFX2_GLOBAL SDL_Joystick* joystick;
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 <span class="preprocessor">#define TOUCHE_AUCUNE          0</span>
<a name="l00690"></a>00690 <span class="preprocessor"></span><span class="preprocessor">#define TOUCHE_MOUSEMIDDLE     (SDLK_LAST+1)</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span><span class="preprocessor">#define TOUCHE_MOUSEWHEELUP    (SDLK_LAST+2)</span>
<a name="l00692"></a>00692 <span class="preprocessor"></span><span class="preprocessor">#define TOUCHE_MOUSEWHEELDOWN  (SDLK_LAST+3)</span>
<a name="l00693"></a>00693 <span class="preprocessor"></span><span class="preprocessor">#define TOUCHE_BUTTON          (SDLK_LAST+4)</span>
<a name="l00694"></a>00694 <span class="preprocessor"></span>
<a name="l00695"></a>00695 <span class="preprocessor">#ifdef __gp2x__</span>
<a name="l00696"></a>00696 <span class="preprocessor"></span><span class="preprocessor">  #define TOUCHE_ESC (TOUCHE_BUTTON+GP2X_BUTTON_X)</span>
<a name="l00697"></a>00697 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span><span class="preprocessor">  #define TOUCHE_ESC SDLK_ESCAPE</span>
<a name="l00699"></a>00699 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00700"></a>00700 <span class="preprocessor"></span>
<a name="l00701"></a>00701 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Mar 6 16:29:54 2009 for GrafX2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
